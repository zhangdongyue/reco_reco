<!DOCTYPE html>
<!-- saved from url=(0038)https://www.atatech.org/articles/94208 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践</title>
  <meta name="description" content="">
  
  <meta name="viewport" content="width=1100, maximum-scale=1.0, user-scalable=yes">
  <link rel="stylesheet" href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/app-b704f221e6baf4d80ae8febe8a470ad8952e11d0.css">
  <script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/app-63f69630beb8fb78f075a694aa7ac6bc2a253628.js" data-main="article/show"></script>
  <script>require('main')</script>
  <!--[if lt IE 9]>
  <script src="/js/html5shiv-3.7.0.min.js"></script>
  <script src="/js/respond-1.4.2.min.js"></script>
  <![endif]-->
        <!--<base target="_blank">--><base href="." target="_blank">
  <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-full-width {text-align: center; display: table-cell!important; width: 10000em}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; -webkit-box-sizing: content-box!important; -moz-box-sizing: content-box!important; box-sizing: content-box!important; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: table-row}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: inline}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table; width: auto}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-chartest {display: block; visibility: hidden; position: absolute; top: 0; line-height: normal; font-size: 500%}
.mjx-chartest .mjx-char {display: inline}
.mjx-chartest .mjx-box {padding-top: 1000px}
.MJXc-processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MJXc-processed {display: none}
.mjx-test {display: block; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.mjx-ex-box-test {position: absolute; overflow: hidden; width: 1px; height: 60ex}
.mjx-line-box-test {display: table!important}
.mjx-line-box-test span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
#MathJax_CHTML_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.mjx-chtml .mjx-noError {line-height: 1.2; vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
.MJXc-TeX-unknown-R {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: STIXGeneral,'Cambria Math','Arial Unicode MS',serif; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
.MJXc-TeX-vec-R {font-family: MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}
.MJXc-TeX-vec-B {font-family: MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-R; src: local('MathJax_Vector'), local('MathJax_Vector-Regular')}
@font-face {font-family: MJXc-TeX-vec-Rw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-B; src: local('MathJax_Vector Bold'), local('MathJax_Vector-Bold')}
@font-face {font-family: MJXc-TeX-vec-Bx; src: local('MathJax_Vector'); font-weight: bold}
@font-face {font-family: MJXc-TeX-vec-Bw; src /*1*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot'); src /*2*/: url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff') format('woff'), url('https://cdn.bootcss.com/mathjax/2.7.3/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf') format('opentype')}
</style></head>
<body class="" cnzz_category="文章详情" style=""><div id="MathJax_Message" style="display: none;"></div>

      <header>
  <style>
    .navbar-nav>li {margin-right: 5px;}
  </style>
  <div class="navbar navbar-default">
    <div class="container">
      <ul class="nav navbar-nav">
        <li><a href="https://www.atatech.org/">首页</a></li>
        <li><a href="https://www.atatech.org/articles/?sort=yuan">文章</a></li>
        <li><a href="https://www.atatech.org/teams/">团队博客</a></li>
        <li><a href="https://www.atatech.org/groups/">圈子</a></li>
        <li><a href="https://www.atatech.org/ask">问答</a></li>
                <li><a href="https://www.atatech.org/activity/">活动</a></li>
        <li><a href="https://www.atatech.org/conference/">会议</a></li>
        <li class="li-margin"><a href="https://www.atatech.org/specials" target="_blank">专题</a></li>
        <li class="divider"></li>
        <li><a href="https://www.atatech.org/paper/">论文专区</a></li>
        <li><a href="https://www.atatech.org/techtalk/">对话科技</a></li>
        <li><a href="https://www.atatech.org/news/graduate_train">技术大学</a></li>
                                                                <li class="divider"></li>
        <li><a href="https://www.atatech.org/research/">合作</a></li>
      </ul>
      <ul class="nav navbar-nav pull-right">

                  <li><a target="_self" href="https://www.atatech.org/edu/mentor/">我的师弟</a></li>
                                                  <li><a target="_self" href="https://www.atatech.org/notifications/">消息</a></li>
        <li><a target="_self" href="https://www.atatech.org/feed/">动态</a></li>
        <li class="divider"></li>
        <li class="dropdown">
          <a target="_self" href="https://www.atatech.org/users/180156#information" class="navbar-avatar" data-toggle="dropdown">
            <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/107776.80x80.jpg" width="20" height="20" alt="梵昱" class="img-circle">
            <span>&nbsp;梵昱</span>
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a target="_self" href="https://www.atatech.org/users/180156/own#information">
                <span class="glyphicon glyphicon-edit"></span>
                <span>我的文章</span>
              </a>
            </li>
            <li>
              <a target="_self" href="https://www.atatech.org/activity/new">
                <span class="glyphicon glyphicon-fire"></span>
                <span>发起活动</span>
              </a>
            </li>
            <li>
              <a target="_self" href="https://www.atatech.org/users/180156/ask#information">
                <span class="glyphicon glyphicon-question-sign"></span>
                <span>我的问题</span>
              </a>
            </li>
            <li>
              <a target="_self" href="https://www.atatech.org/users/180156/mark#information">
                <span class="glyphicon glyphicon-star-empty"></span>
                <span>我的收藏</span>
              </a>
            </li>
            <li>
              <a target="_self" href="https://www.atatech.org/users/180156/groups">
                <span class="glyphicon glyphicon-record"></span>
                <span>我的圈子</span>
              </a>
            </li>
            <li>
              <a target="_self" href="https://www.atatech.org/teams">
                <span class="glyphicon glyphicon-list-alt"></span>
                <span>我的博客</span>
              </a>
            </li>

                        <li>
              <a target="_self" href="https://www.atatech.org/settings/">
                <span class="glyphicon glyphicon-cog"></span>
                <span>个人设置</span>
              </a>
            </li>
                        <li class="divider"></li>
            <li>
              <a target="_self" href="https://www.atatech.org/logout" data-method="post">
                <span class="glyphicon glyphicon-log-out"></span>
                <span>退出</span>
              </a>
            </li>
          </ul><!-- /.dropdown -->
        </li>
        <li class="dropdown quick-search">
          <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
            <span class="glyphicon glyphicon-search"></span></button>
          <div class="dropdown-menu form-group" role="menu">
            <form target="_self" action="https://www.atatech.org/search" method="get" class="quick-form js-active-on-valid">
              <input type="hidden" name="type" value="ALL">
              <input type="text" name="q" class="form-control" placeholder="全站搜索" required="">
              <button type="submit" class="quick_btn"></button>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>

  </header>    <div class="container header-notice-container">
      </div>
  <style>
    ._article-container .unsafe {
      overflow: inherit;
    }
    .content table td, .content table th{
      word-wrap:break-word;
    }
    .influential-article{
      background: url(http://ata2-img.cn-hangzhou.img-pub.aliyun-inc.com/5536328776615091af700516adbe8319.png);
      background-size: 200px 200px;
      width: 200px;
      height: 200px;
      position: absolute;
      right: 174px;
      top: 127px;
      z-index: 5000;
    }

    .article-anchor {float: left;line-height:1.5;margin-left: -20px;padding-right: 4px;position:absolute;}
    .article-anchor:hover{cursor: pointer;}
    .article-anchor .ancher-link {visibility:hidden;}
    .medal {margin-left: -12px; margin-right: 5px;}
    .medal-show {display: inline-block;position: absolute; background-color: #fe4625;border-radius: 0.25em; line-height: 25px;}
    .medal-show span {color: #fff;padding: 10px;}
    .medal-hide {display: none;position: absolute}
    .medal-show:after {
      border-color: #f0f0f0 transparent transparent #f0f0f0;
      border-style: solid solid solid solid;
      border-width: 6px 3px;

      /* 必須指定，才能顯示內容 */
      content: '';

      height: 0px;
      left: 0px;

      /* 必須指定，否則會變梯形 */
      position: absolute;
      top: 25px;
      width: 0px;
    }
    .medal-show:before {
      border-color: #fe4625 transparent transparent #fe4625;
      border-style: solid solid solid solid;
      border-width: 6px 10px;

      /* 必須指定，才能顯示內容 */
      content: '';

      height: 0px;
      left: 0px;

      /* 必須指定，否則會變梯形 */
      position: absolute;

      top: 25px;
      width: 0px;
    }
    .pull-right .article-favor, .article-favor, .article-delete {
      margin-left: 10px;
    }

    .article-tag {
      margin-right: 5px;
      color: #999999;
    }

    .knowledge-tags a {
      margin-right: 8px;
      color: #999999;
    }

    .knowledge-tags a:hover {
      color: #428bca;
      text-decoration: underline;
    }

    .labels span, .labels a {
      font-size: 13px;
    }
    .labels div span, .labels .knowledge-tags span, .span-weight {
      font-weight: 700;
      color: #666;
    }

    .article-title {
      text-align: center;
      border-bottom: #dfdfdf 1px solid;
      margin-bottom: 10px;
      padding-bottom: 15px;
    }

    .special-attr {
      color: #FF3300;
      margin-right: 10px;
      font-weight: 700;
    }

    .special-yuan {
      color: #009933 !important;
    }

  </style>
  
    <div class="container">
    <div class="_article-container">
      <div class="_article-box" role="main">
        <article class="_article">
          <header class="heading">
            <div class="infos clearfix">
              <a href="https://www.atatech.org/users/302897" class="info" title="武见"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/136975.80x80.jpg" width="32" height="32" alt="武见" class="img-user"><span>&nbsp;武见</span></a>                            <span class="info">
                              <time class="" datetime="2017-11-16T14:18:01+08:00">2017-11-16 14:18:01</time>
                                  (最初创作于: 2017-11-15 13:31:05)
                              </span>
                              <span class="info">发表于：                  <a href="https://www.atatech.org/groups/426">推荐技术研究</a></span>
                            
              <div class="pull-right">
                <span class="info">3337  阅读</span>
                <span id="tools_favor_top" class="article-favor">
                  <a data-toggle="modal" href="https://www.atatech.org/articles/94208/mark/" data-target="#my-mark-modal" title="收藏" class="btn btn-default item-tomark" role="button" rel="nofollow" style="display:none">
                    169&nbsp;<span>收藏</span>
                  </a>
                  <a href="https://www.atatech.org/articles/94208/unmark" title="取消收藏" class="btn btn-primary item-tounmark" role="button" rel="nofollow" data-remote="true" data-done="$(this).prev().addBack().toggle()" data-method="post">
                    170&nbsp;<span>取消收藏</span>
                  </a>
                </span>
                
                              </div>
            </div>

            
            <div class="labels">
  <div class="knowledge-tags">
    <span class="k-span">知识体系：</span>
          <a class="ktag" href="https://www.atatech.org/articles/?kid=37" data-kid="37">机器学习／深度学习</a>
        <button href="/knowledge/knowledgeTags?type=show&amp;aid=94208" class="btn btn-default btn-xs kbutton" data-toggle="modal" data-target="#editKnowledgeTagModal">
      <span class="glyphicon glyphicon-pencil"></span>
      修改知识体系
    </button>
  </div>
</div>

  <div class="modal fade" id="editKnowledgeTagModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>

            <div class="labels">
    <form target="_self" accept-charset="UTF-8" action="https://www.atatech.org/articles/94208/tags" autocomplete="off" method="post" data-remote="true" data-done="$(this).closest(&#39;.labels&#39;).replaceWith(r);$.alert(&#39;修改成功&#39;, &#39;success&#39;)" style="display:none">
    <input type="hidden" name="_method" value="put">
    <div class="form-group">
      <input type="text" name="tags" class="form-control selectized" value="架构 算法 推荐算法 推荐 深度学习 match DeepMatch " tabindex="-1" style="display: none;"><div class="selectize-control form-control multi plugin-remove_button"><div class="selectize-input items not-full has-options has-items"><div data-value="架构" class="item">架构<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="算法" class="item">算法<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="推荐算法" class="item">推荐算法<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="推荐" class="item">推荐<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="深度学习" class="item">深度学习<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="match" class="item">match<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><div data-value="DeepMatch" class="item">DeepMatch<a href="javascript:void(0)" class="remove" tabindex="-1" title="Remove">×</a></div><input type="text" autocomplete="off" tabindex="" style="width: 4px;"></div><div class="selectize-dropdown form-control multi plugin-remove_button" style="display: none;"><div class="selectize-dropdown-content"><div data-value="Java核心技术" data-selectable="" class="option active">Java核心技术</div><div data-value="Java" data-selectable="" class="option">Java</div><div data-value="前端与交互设计" data-selectable="" class="option">前端与交互设计</div><div data-value="分布式系统与计算" data-selectable="" class="option">分布式系统与计算</div><div data-value="数据存储与数据库" data-selectable="" class="option">数据存储与数据库</div><div data-value="编程语言" data-selectable="" class="option">编程语言</div><div data-value="测试技术" data-selectable="" class="option">测试技术</div></div></div></div>
    </div>
    <div class="form-group text-right">
      <button type="button" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;.labels&#39;).children().toggle()">取消</button>
      <button type="submit" class="btn btn-primary btn-sm">更新</button>
    </div>
  </form>
  
  <div>
    <span>文章标签：</span>
          <a class="article-tag" href="https://www.atatech.org/search?q=%E6%9E%B6%E6%9E%84&amp;type=INSIDE_ARTICLE_TAG">架构</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=%E7%AE%97%E6%B3%95&amp;type=INSIDE_ARTICLE_TAG">算法</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=%E6%8E%A8%E8%8D%90%E7%AE%97%E6%B3%95&amp;type=INSIDE_ARTICLE_TAG">推荐算法</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=%E6%8E%A8%E8%8D%90&amp;type=INSIDE_ARTICLE_TAG">推荐</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0&amp;type=INSIDE_ARTICLE_TAG">深度学习</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=match&amp;type=INSIDE_ARTICLE_TAG">match</a>
          <a class="article-tag" href="https://www.atatech.org/search?q=DeepMatch&amp;type=INSIDE_ARTICLE_TAG">DeepMatch</a>
              <button type="button" id="edit-tags" class="btn btn-default btn-xs" onclick="$(this).closest(&#39;.labels&#39;).children().toggle()">
        <span class="glyphicon glyphicon-pencil"></span>
        修改标签
      </button>
      <a href="https://www.atatech.org/articles/94208/tags/history" class="btn btn-default btn-xs" data-toggle="modal" data-target="#modal-tag-history">
        <span class="glyphicon glyphicon-time"></span>
        标签历史
      </a>
      </div>
</div>

                          <div class="labels">
                <span class="span-weight">附加属性：</span>
                                  <span class="special-attr">内部资料请勿外传</span>
                                                  <span class="special-attr special-yuan">作者原创</span>
                                                                                                              </div>
            
            
                      </header>

            <div class="article-title">
              <h1 class="title clearfix unsafe">
                DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践
                              </h1>
            </div>

          <div class="content unsafe md" style="background: rgba(0, 0, 0, 0) url(https://www.atatech.org/public/watermark.png) repeat scroll 0 0">
                          <h1 id="0"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#0"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本介绍</h1>
<p>Match（召回）和Rank（排序）是推荐流程非常关键的两步。Match即有效和丰富的召回，从全量商品（还包括feed和视频等）集合中根据用户行为和属性信息触发尽可能多正确的结果，并将结果返回给Rank。Rank即精排，通过一个准确的预估模型对Match阶段海选的商品进行精准打分，并根据打分结果进行排序截断，决定最终向用户展示的结果顺序。</p>
<p>通常Match面对的是整个商品库集合，需要保留尽可能多的相关结果，剔除相关性较弱的结果，降低对后面链路的压力。因此Match既要保证高召回率，又要保证高的准确率。Match结果的好坏，对整个结果有重要的影响。</p>
<p>手淘猜你喜欢Match在Offline2Online架构下，实现了多路Match召回链（相关ATA点击<a href="https://www.atatech.org/articles/86826">这里</a>）。现有的Match策略主要基于memory based（swing i2i、搭配i2i、usercf等）和基于双线性模型的model based（SVD、SVD++等）经典协同过滤。这些传统Match的有其独特的优势，但存在如下问题：</p>
<ul>
<li>难以在match端综合利用多种信息，比如用户信息（年龄、性能、购买力等）、类目信息、店铺信息、文本信息等。现在的解决方案要么过于复杂而只能应对某一类信息进行处理，要么就需要大量的人工参与。比如常规方式会针对一种用户属性和商品属性设计特征，作为一路召回（比如店铺召回，品牌召回，用户属性召回等等）。单路召回利用的信息有局限性，在真实世界中，用户偏好是多种信息综合的结果。</li>
<li>冷启动问题。在传统的召回中，基于行为的模型往往不能充分利用内容信息，而基于内容的又不能很好的兼顾行为，从而会遇到用户和商品的冷启动问题。</li>
<li>难以建模更深层次的语义信息。传统召回不能对"用户-商品"行为背后的深层语意信息进行理解，大多只是简单的共现统计，表达能力有限，不能建模用户和商品之间复杂的非线性关系。</li>
<li>用户长短期兴趣融合问题。传统Match策略过于依赖实时i2i，短期兴趣成为主导，怎样让模型自动根据用户的历史行为平衡长短期兴趣，一直是一个难题。</li>
</ul>
<p>基于上述问题，我们实现了<strong>End-to-End深度召回模型DeepMatch</strong>，并在双十一期间上线，获得了<strong>ucvr提升1.38%</strong>，**客单价提升3.11%<strong>，</strong>alipay提升3.65%<strong>。相比经典策略，DeepMatch具有以下</strong>优点**：</p>
<ul>
<li>深度智能语义召回。通过利用深层神经网络的表达能力建模，充分挖掘用户行为背后的深层次的语义信息，相比起简单的统计共现，这种智能语义召回的召回结果更加贴合用户的需求，并能带来不同于i2i的惊喜性。</li>
<li>加入Dual Attention机制，提高了信息的利用效率和长短期兴趣问题。Attention和上下文信息的加入，能够让模型使用更长期的历史行为足迹，而不被噪音湮没。通过在丰富的行为中提取与本次Match最相关的信息，召回更好的结果。</li>
<li>解决了多信息融合问题。DeepMatch使用End to End的方式利用各种信息，比如用户在商品、店铺、内容上的各类行为，是一个融合多种召回的统一框架。</li>
<li>利用多机多卡优化，解决了百亿样本，亿级别分类数的分布式训练问题，达到较好的收敛效率和效果。</li>
<li>解决了冷启动问题。因为模型的多信息源的非线性表达能力，有效解决user端和item端的冷启动问题。</li>
<li>实时用户向量生成和全库召回。线上可以根据用户行为，5ms内实时计算用户向量，3ms内对全库商品进行向量召回。</li>
</ul>
<h1 id="1"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#1"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DeepMatch模型</h1>
<h3 id="2"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#2"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模型介绍</h3>
<p>模型的基本思路是，根据用户行为和用户信息预估用户下一个可能点击的商品的概率分布。这个概率分布通过最后的softmax层得到。DeepMatch网络结构如下图：</p>
<div align="center">  
 <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/6b6b5126bc30207903aaa2392bc69995.png" align="center">
</div>
<p>模型可以分为如下几个部分：</p>
<h4 id="3"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#3"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>输入层</h4>
<p>模型输入层主要有以下几类信息：</p>
<ul>
<li>Embedded items（商品id embedding）: 对用户过去商品行为建模（比如收藏，加购，点击，购买等等），学习商品embedding。</li>
<li>Embedded content footprint（内容足迹信息）: 内容足迹是全网行为的一个泛化信息，比如商品类目，搜索query，店铺，标签等。内容足迹信息泛化能力较强，能反映用户high-level的意图和偏好。</li>
<li>Context info（上下文信息）：内容足迹上下文信息，比如发生的时间距离现在的时间长度等。</li>
<li>Embedded user feature（用户信息）: 用户的特征信息，比如用户的年龄、性别、购买力等。</li>
</ul>
<h4 id="4"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#4"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dual Attention机制</h4>
<p>为了能够建模上述复杂的信息，引入了基于Dual Attention的池化方式。第一层Intent Level Attention抽取泛化表达信息，输出用户的意图表达UIV（User Intent Vector)。UIV表达了较泛化用户兴趣和意图（比如类目偏好，品牌偏好、标签偏好等）。第二层Item Level Attention利用用户意图表达和商品生成attention score，根据attention based pooling输出item vector。两层Attention分别从不同的粒度表达用户行为信息，计算公式如下：</p>
<p>User Intent Vector <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-1-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-1" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-2" class="mjx-mrow"><span id="MJXc-Node-3" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-4" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-5" class="mjx-texatom" style=""><span id="MJXc-Node-6" class="mjx-mrow"><span id="MJXc-Node-7" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-8" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-9" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-10" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-11" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-12" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1">V_{intent}</script>：<br>
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-2-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-13" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-14" class="mjx-mrow"><span id="MJXc-Node-15" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-16" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-17" class="mjx-texatom" style=""><span id="MJXc-Node-18" class="mjx-mrow"><span id="MJXc-Node-19" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-20" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-21" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-22" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-23" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-24" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span id="MJXc-Node-25" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-26" class="mjx-munderover MJXc-space3"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.258em; padding-top: 0.141em; padding-left: 0.577em;"><span id="MJXc-Node-33" class="mjx-texatom" style=""><span id="MJXc-Node-34" class="mjx-mrow"><span id="MJXc-Node-35" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.085em;">N</span></span></span></span></span><span class="mjx-op"><span id="MJXc-Node-27" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.21em;"><span id="MJXc-Node-28" class="mjx-texatom" style=""><span id="MJXc-Node-29" class="mjx-mrow"><span id="MJXc-Node-30" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-31" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-32" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-36" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-37" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-38" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-39" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.318em;">∗</span></span><span id="MJXc-Node-40" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.106em;"><span id="MJXc-Node-41" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.106em;">F</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-42" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-43" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-44" class="mjx-munderover MJXc-space3"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.258em; padding-top: 0.141em; padding-left: 0.577em;"><span id="MJXc-Node-51" class="mjx-texatom" style=""><span id="MJXc-Node-52" class="mjx-mrow"><span id="MJXc-Node-53" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.085em;">N</span></span></span></span></span><span class="mjx-op"><span id="MJXc-Node-45" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.21em;"><span id="MJXc-Node-46" class="mjx-texatom" style=""><span id="MJXc-Node-47" class="mjx-mrow"><span id="MJXc-Node-48" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-49" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-50" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-54" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-55" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-56" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.106em;"><span id="MJXc-Node-57" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.106em;">F</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-58" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-59" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-60" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.045em;"><span id="MJXc-Node-61" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-62" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-63" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-64" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.084em;">U</span></span><span id="MJXc-Node-65" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-66" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.318em;">∗</span></span><span id="MJXc-Node-67" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.106em;"><span id="MJXc-Node-68" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.106em;">F</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-69" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></munderover><msub><mi>w</mi><mi>i</mi></msub><mo>∗</mo><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></munderover><mi>f</mi><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo>,</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>U</mi><mo stretchy="false">)</mo><mo>∗</mo><msub><mi>F</mi><mi>i</mi></msub></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-2"> 
V_{intent}=\sum_{i=1}^{N}w_i*F_i=\sum_{i=1}^{N}f(F_i,C_i,U)*F_i 
</script><br>
Item Vector <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-3-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-70" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-71" class="mjx-mrow"><span id="MJXc-Node-72" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-73" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-74" class="mjx-texatom" style=""><span id="MJXc-Node-75" class="mjx-mrow"><span id="MJXc-Node-76" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-77" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-78" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-79" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>t</mi><mi>e</mi><mi>m</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-3">V_{item}</script>：<br>
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-4-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;&amp;#x2032;&lt;/mo&gt;&lt;/msubsup&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;/mrow&gt;&lt;/munderover&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2217;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-80" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-81" class="mjx-mrow"><span id="MJXc-Node-82" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-83" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-84" class="mjx-texatom" style=""><span id="MJXc-Node-85" class="mjx-mrow"><span id="MJXc-Node-86" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-87" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-88" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-89" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span></span></span></span><span id="MJXc-Node-90" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-91" class="mjx-munderover MJXc-space3"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.258em; padding-top: 0.141em; padding-left: 0.496em;"><span id="MJXc-Node-98" class="mjx-texatom" style=""><span id="MJXc-Node-99" class="mjx-mrow"><span id="MJXc-Node-100" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.081em;">M</span></span></span></span></span><span class="mjx-op"><span id="MJXc-Node-92" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.176em;"><span id="MJXc-Node-93" class="mjx-texatom" style=""><span id="MJXc-Node-94" class="mjx-mrow"><span id="MJXc-Node-95" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span><span id="MJXc-Node-96" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-97" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-101" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-102" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-104" class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.318em;">′</span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span id="MJXc-Node-103" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span></span><span id="MJXc-Node-105" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.318em;">∗</span></span><span id="MJXc-Node-106" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.064em;"><span id="MJXc-Node-107" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-108" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span><span id="MJXc-Node-109" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-110" class="mjx-munderover MJXc-space3"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.258em; padding-top: 0.141em; padding-left: 0.496em;"><span id="MJXc-Node-117" class="mjx-texatom" style=""><span id="MJXc-Node-118" class="mjx-mrow"><span id="MJXc-Node-119" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.081em;">M</span></span></span></span></span><span class="mjx-op"><span id="MJXc-Node-111" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.176em;"><span id="MJXc-Node-112" class="mjx-texatom" style=""><span id="MJXc-Node-113" class="mjx-mrow"><span id="MJXc-Node-114" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span><span id="MJXc-Node-115" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-116" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-120" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-121" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-122" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.064em;"><span id="MJXc-Node-123" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-124" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span><span id="MJXc-Node-125" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-126" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-127" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-128" class="mjx-texatom" style=""><span id="MJXc-Node-129" class="mjx-mrow"><span id="MJXc-Node-130" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-131" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-132" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-133" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-134" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-135" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span id="MJXc-Node-136" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-137" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.318em;">∗</span></span><span id="MJXc-Node-138" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.064em;"><span id="MJXc-Node-139" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-140" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>t</mi><mi>e</mi><mi>m</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>M</mi></mrow></munderover><msubsup><mi>w</mi><mi>j</mi><mo>′</mo></msubsup><mo>∗</mo><msub><mi>I</mi><mi>j</mi></msub><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>M</mi></mrow></munderover><mi>g</mi><mo stretchy="false">(</mo><msub><mi>I</mi><mi>j</mi></msub><mo>,</mo><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mo>∗</mo><msub><mi>I</mi><mi>j</mi></msub></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-4"> 
V_{item}=\sum_{j=1}^{M}w'_j*I_j=\sum_{j=1}^{M}g(I_j,V_{intent})*I_j 
</script><br>
其中 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-5-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-141" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-142" class="mjx-mrow"><span id="MJXc-Node-143" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-144" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-145" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.106em;"><span id="MJXc-Node-146" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.106em;">F</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-147" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-148" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-149" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.045em;"><span id="MJXc-Node-150" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-151" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-152" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-153" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.084em;">U</span></span><span id="MJXc-Node-154" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><msub><mi>F</mi><mi>i</mi></msub><mo>,</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>U</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5">f(F_i,C_i,U)</script> 和 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-6-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-155" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-156" class="mjx-mrow"><span id="MJXc-Node-157" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-158" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-159" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.064em;"><span id="MJXc-Node-160" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-161" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-162" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.155em; padding-bottom: 0.528em;">,</span></span><span id="MJXc-Node-163" class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.186em;"><span id="MJXc-Node-164" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-165" class="mjx-texatom" style=""><span id="MJXc-Node-166" class="mjx-mrow"><span id="MJXc-Node-167" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-168" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-169" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-170" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-171" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-172" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span id="MJXc-Node-173" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>g</mi><mo stretchy="false">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>V</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-6">g(I_i,V_{intent})</script> 分别是对应Intent Level Attention Unit和Item Level Attention Unit的小型全连接网络。<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-7-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-174" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-175" class="mjx-mrow"><span id="MJXc-Node-176" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.064em;"><span id="MJXc-Node-177" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.064em;">I</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-178" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> I_j</script> 是用户第<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-8-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-179" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-180" class="mjx-mrow"><span id="MJXc-Node-181" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.475em;">j</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">j</script>个行为商品的embedding，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-9-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-182" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-183" class="mjx-mrow"><span id="MJXc-Node-184" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.106em;"><span id="MJXc-Node-185" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.106em;">F</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-186" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>F</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-9">F_i</script> 是用户行为第<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-10-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-187" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-188" class="mjx-mrow"><span id="MJXc-Node-189" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">i</script> 个内容足迹的embedding，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-11-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-190" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-191" class="mjx-mrow"><span id="MJXc-Node-192" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.045em;"><span id="MJXc-Node-193" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.045em;">C</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-194" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-11">C_i</script>是第<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-12-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-195" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-196" class="mjx-mrow"><span id="MJXc-Node-197" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">i</script>个内容足迹的上下文，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-13-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;U&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-198" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-199" class="mjx-mrow"><span id="MJXc-Node-200" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.084em;">U</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">U</script>表示concat之后的用户特征表示。</p>
<p>模型中加入Attention的本质原因在于，模型在对信息进行压缩时，会有信息的损失。通过Attention机制可以起到放大有益信息，降低无用信息的作用。由于电商推荐的情境特殊性（用户行为丰富且意图不同），模型中设置了双层Attention可以在局部和全局层面上对不同粒度的信息生成表达，作为神经网络的输入。实验表明，加入dual attention的模型效果更优。</p>
<h4 id="5"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#5"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>深度网络层</h4>
<p>采用全连接深层神经网络，以LRelu作为激活函数，最后一层LRelu的输出被称之为用户向量（user embedding），并将用户向量输入到softmax层，计算出用户下一个行为商品的概率，即所有下一个行为商品的分布。</p>
<h1 id="6"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#6"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Softmax近似算法</h1>
<p>DeepMatch的NN网络的输出层使用的是softmax，对应的单个样本的负 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-14-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-201" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-202" class="mjx-mrow"><span id="MJXc-Node-203" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-204" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-205" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span><span id="MJXc-Node-206" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-207" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-208" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-209" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-210" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>g</mi><mi mathvariant="normal">_</mi><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">log\_loss</script> 为：<br>
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-15-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mtext&gt;log&lt;/mtext&gt;&lt;mstyle displaystyle=&quot;true&quot; scriptlevel=&quot;0&quot;&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mtext&gt;exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mtext&gt;exp&lt;/mtext&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mstyle&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-211" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-212" class="mjx-mrow"><span id="MJXc-Node-213" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.078em;"><span id="MJXc-Node-214" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.078em;">J</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-215" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-216" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-217" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-218" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.528em;">log</span></span><span id="MJXc-Node-219" class="mjx-mstyle"><span id="MJXc-Node-220" class="mjx-mrow"><span id="MJXc-Node-221" class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 8.802em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 8.802em; top: -1.524em;"><span id="MJXc-Node-222" class="mjx-mrow"><span id="MJXc-Node-223" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.528em;">exp</span></span><span id="MJXc-Node-224" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-225" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-226" class="mjx-texatom"><span id="MJXc-Node-227" class="mjx-mrow"><span id="MJXc-Node-228" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-229" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-230" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span><span id="MJXc-Node-231" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-232" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="mjx-denominator" style="width: 8.802em; bottom: -1.184em;"><span id="MJXc-Node-233" class="mjx-mrow"><span id="MJXc-Node-234" class="mjx-munderover"><span class="mjx-base"><span id="MJXc-Node-235" class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.528em; padding-bottom: 0.528em;">∑</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.439em; padding-right: 0.071em;"><span id="MJXc-Node-236" class="mjx-texatom" style=""><span id="MJXc-Node-237" class="mjx-mrow"><span id="MJXc-Node-238" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-239" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-240" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-241" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-242" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span></span></span></span><span id="MJXc-Node-243" class="mjx-mtext MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.16em; padding-bottom: 0.528em;">exp</span></span><span id="MJXc-Node-244" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-245" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-246" class="mjx-texatom"><span id="MJXc-Node-247" class="mjx-mrow"><span id="MJXc-Node-248" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-249" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-250" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-251" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-252" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-253" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-254" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="mjx-line" style="border-bottom: 1.3px solid; top: -0.283em; width: 8.802em;"></span></span><span class="mjx-vsize" style="height: 2.708em; vertical-align: -1.184em;"></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>J</mi><mi>θ</mi></msub><mo>=</mo><mo>−</mo><mtext>log</mtext><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mtext>exp</mtext><mo stretchy="false">(</mo><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mrow><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>w</mi><mi>i</mi></msub><mo>∈</mo><mi>V</mi></mrow></munder><mtext>exp</mtext><mo stretchy="false">(</mo><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mstyle></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-15"> 
J_\theta = -  \text{log}  \dfrac{\text{exp}(-\mathcal{Z}(w))}{\sum_{w_i \in V} \text{exp}(-\mathcal{Z}(w_i))} 
</script><br>
相应的梯度为：<br>
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-16-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2208;&lt;/mo&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-255" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-256" class="mjx-mrow"><span id="MJXc-Node-257" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-258" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-259" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-260" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.078em;"><span id="MJXc-Node-261" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.078em;">J</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-262" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-263" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-264" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-265" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-266" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-267" class="mjx-texatom"><span id="MJXc-Node-268" class="mjx-mrow"><span id="MJXc-Node-269" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-270" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-271" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span><span id="MJXc-Node-272" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-273" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-274" class="mjx-munderover MJXc-space2"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-op" style="padding-left: 0.138em;"><span id="MJXc-Node-275" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em;"><span id="MJXc-Node-276" class="mjx-texatom" style=""><span id="MJXc-Node-277" class="mjx-mrow"><span id="MJXc-Node-278" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-279" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-280" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-281" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.265em; padding-bottom: 0.37em;">∈</span></span><span id="MJXc-Node-282" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.186em;">V</span></span></span></span></span></span></span></span><span id="MJXc-Node-283" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-284" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-285" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-286" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-287" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-288" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-289" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-290" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-291" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-292" class="mjx-texatom"><span id="MJXc-Node-293" class="mjx-mrow"><span id="MJXc-Node-294" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-295" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-296" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-297" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-298" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-299" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><msub><mi>J</mi><mi>θ</mi></msub><mo>=</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>−</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>w</mi><mi>i</mi></msub><mo>∈</mo><mi>V</mi></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-16"> 
\nabla_\theta J_\theta =  \nabla_\theta \mathcal{Z}(w) - \sum_{w_i \in V} P(w_i) \nabla_\theta \mathcal{Z}(w_i) 
</script><br>
在上面的式子中，最终的梯度是两部分因素相互作用的结果。其中，目标分类<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-17-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-300" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-301" class="mjx-mrow"><span id="MJXc-Node-302" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-17">w</script>的梯度作为正向的因素，其他的分类的梯度根则加权平均作为负向因素。要计算上式，需要对所有的分类进行计算，当分类数目比较大的时候，计算量太大。因此需要一种近似算法，加速训练。DeepMatch采用了 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-18-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-303" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-304" class="mjx-mrow"><span id="MJXc-Node-305" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-306" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-307" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-308" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-309" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-310" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-311" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-312" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-313" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-314" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-315" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-316" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-317" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-318" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-319" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-18">sampled\_softmax</script> 作为近似函数，对softmax做如下近似：</p>
<p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-19-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;&amp;#x2211;&lt;/mo&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/munderover&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x2207;&lt;/mi&gt;&lt;mi&gt;&amp;#x03B8;&lt;/mi&gt;&lt;/msub&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;&gt;Z&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-320" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-321" class="mjx-mrow"><span id="MJXc-Node-322" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-323" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-324" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-325" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.078em;"><span id="MJXc-Node-326" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.318em; padding-right: 0.078em;">J</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-327" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-328" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-329" class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span id="MJXc-Node-330" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-331" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-332" class="mjx-texatom"><span id="MJXc-Node-333" class="mjx-mrow"><span id="MJXc-Node-334" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-335" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-336" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span><span id="MJXc-Node-337" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-338" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-339" class="mjx-munderover MJXc-space2"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.247em; padding-top: 0.141em; padding-left: 0.582em;"><span id="MJXc-Node-346" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span><span class="mjx-op"><span id="MJXc-Node-340" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.738em; padding-bottom: 0.738em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.21em;"><span id="MJXc-Node-341" class="mjx-texatom" style=""><span id="MJXc-Node-342" class="mjx-mrow"><span id="MJXc-Node-343" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-344" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.055em; padding-bottom: 0.318em;">=</span></span><span id="MJXc-Node-345" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-347" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-348" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-349" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-350" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-351" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-352" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-353" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-354" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.423em; padding-bottom: 0.37em;">∇</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span id="MJXc-Node-355" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">θ</span></span></span></span><span id="MJXc-Node-356" class="mjx-texatom"><span id="MJXc-Node-357" class="mjx-mrow"><span id="MJXc-Node-358" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.423em; padding-bottom: 0.318em; padding-right: 0.042em;">Z</span></span></span></span><span id="MJXc-Node-359" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-360" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-361" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-362" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-363" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><msub><mi>J</mi><mi>θ</mi></msub><mo>=</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>−</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mi>P</mi><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∇</mi><mi>θ</mi></msub><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-caligraphic" mathvariant="script">Z</mi></mrow><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-19"> 
\nabla_\theta J_\theta =  \nabla_\theta \mathcal{Z}(w) - \sum_{i=1}^m P(w_i) \nabla_\theta \mathcal{Z}(w_i) 
</script><br>
其中 <br>
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-20-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x223D;&lt;/mo&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-364" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-365" class="mjx-mrow"><span id="MJXc-Node-366" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-367" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-368" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-369" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.108em; padding-bottom: 0.265em;">∽</span></span><span id="MJXc-Node-370" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">Q</span></span><span id="MJXc-Node-371" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-372" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-373" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">w</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-374" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span></span></span><span id="MJXc-Node-375" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>w</mi><mi>i</mi></msub><mo>∽</mo><mi>Q</mi><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-20"> 
w_i\backsim Q(w_i) 
</script><br>
也就是，通过从一个分布Q中抽取m个类作为"负样本"，对softmax的计算进行近似。一般的，这个分布 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-21-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-376" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-377" class="mjx-mrow"><span id="MJXc-Node-378" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">Q</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi></math></span></span><script type="math/tex" id="MathJax-Element-21">Q</script> 采用的是 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-22-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Z&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-379" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-380" class="mjx-mrow"><span id="MJXc-Node-381" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.04em;">Z</span></span><span id="MJXc-Node-382" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-383" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-384" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-385" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-386" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-387" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span><span id="MJXc-Node-388" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.318em;">&nbsp;</span></span><span id="MJXc-Node-389" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-390" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-391" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-392" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-393" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">r</span></span><span id="MJXc-Node-394" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-395" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">b</span></span><span id="MJXc-Node-396" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">u</span></span><span id="MJXc-Node-397" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-398" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">i</span></span><span id="MJXc-Node-399" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-400" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">n</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Z</mi><mi>i</mi><mi>p</mi><mi>f</mi><mi>i</mi><mi>a</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-22">Zipfian\ distribution</script>，也可以采用其他的分布来提升效果，比如分类商品的的unigram概率，也可以使用先验信息影响分布 <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-23-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-401" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-402" class="mjx-mrow"><span id="MJXc-Node-403" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em;">Q</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Q</mi></math></span></span><script type="math/tex" id="MathJax-Element-23">Q</script> 的构造。</p>
<p>值得说明的是，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-24-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-404" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-405" class="mjx-mrow"><span id="MJXc-Node-406" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-407" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-408" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-409" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-410" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-411" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-412" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-413" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-414" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-415" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-416" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-417" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-418" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-419" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-420" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">sampled\_softmax</script> 具有良好的效果和很高的计算效率。与之相对的是Noise Contrastive Estimation（NCE），NCE具有理论保证收敛性，在word2vec上具有良好的效果。在DeepMatch的实践中，分类数目比较少以及神经网络层数较浅的情况下使用NCE效果良好。但是随着分类数目的变多，NCE的效果急剧下降。以下是在某数据集上的实验效果，在同样是10000 step后，检查模型预测的top50个概率最高的商品是否包含目标商品。结果表明，不同的算法的正确率相差较远，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-25-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-421" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-422" class="mjx-mrow"><span id="MJXc-Node-423" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-424" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-425" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-426" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-427" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-428" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-429" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-430" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-431" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-432" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-433" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-434" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-435" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-436" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-437" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">sampled\_softmax</script>效果更好。</p>
<div class="table-contianer"><table><thead>
<tr>
<th></th><th>step</th><th>top50正确率</th></tr>
</thead><tbody>
<tr>
<td>NCE</td><td>10000</td><td>4.2969%</td></tr>
<tr>
<td>sampled_softmax</td><td>10000</td><td>11.4258%</td></tr>
</tbody></table></div>
<p>NCE和<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-26-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-438" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-439" class="mjx-mrow"><span id="MJXc-Node-440" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-441" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-442" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-443" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-444" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-445" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-446" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-447" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-448" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-449" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-450" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-451" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-452" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-453" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-454" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-26">sampled\_softmax</script>对于商品的表达学习结果也表明<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-27-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x005F;&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-455" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-456" class="mjx-mrow"><span id="MJXc-Node-457" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-458" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-459" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-460" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em;">p</span></span><span id="MJXc-Node-461" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em;">l</span></span><span id="MJXc-Node-462" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">e</span></span><span id="MJXc-Node-463" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.265em; padding-right: 0.003em;">d</span></span><span id="MJXc-Node-464" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.313em; padding-bottom: 0.423em;">_</span></span><span id="MJXc-Node-465" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">s</span></span><span id="MJXc-Node-466" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">o</span></span><span id="MJXc-Node-467" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-468" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-469" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span><span id="MJXc-Node-470" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">a</span></span><span id="MJXc-Node-471" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">x</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>d</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">sampled\_softmax</script>学习效果更优。</p>
<blockquote>
<p><strong>更为详细的模型优化的分析和介绍请参考这篇文章</strong><a href="https://www.atatech.org/articles/93978">DeepMatch模型优化实践之路</a>.</p>
</blockquote>
<h1 id="7"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#7"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>性能优化和分布式</h1>
<h2 id="8"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#8"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>分布式训练架构</h2>
<p>DeepMatch<strong><a href="https://www.atatech.org/articles/68524">基于pai-tf平台</a></strong>实现模型，pai-tf针对DeepMatch做了如下优化：IO优化，通信优化，提供了性能分析调试工具、无缝对接RTP。由于Deep Match的训练数据规模达几十TB，使用了分布式来加速训练过程。为了能够充分利用网络带宽资源，我们采用多ps+多worker架构，并将模型做了partition均匀地放在了多份ps上，整体的架构图如下图所示。 </p>
<div align="center">  
 <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/33540e80a0fa2fe0d285765a6dae4eea.png" align="center">
</div>
<p>Deep Match模型中由于embedding层和sampled softmax loss层对应的模型参数规模很大，而且无论是从ps上pull parameter还是向ps上发送gradients，其传输的数据都是非常稀疏的格式，为了能够更加充分的利用计算资源和稀疏特性，使用Hogwild!方式进行ASGD的训练。</p>
<h2 id="9"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#9"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AdamOptimizer优化</h2>
<p>不同的optimizer对于深度学习模型的效果影响很大。在实验比较了各个优化器之后，DeepMatch采用了adam作为优化算法。对Deep Match模型这类超大分类数模型训练时，embedding层和sampled softmax loss层变得非常巨大，这两层参数大小达到了数十GB以上，对AdamOptimizer的训练过程带来了困难。对于Adam一阶矩和二阶矩更新的规则：<br><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-28-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mtable columnalign=&quot;right center left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0 thickmathspace&quot; displaystyle=&quot;true&quot;&gt;&lt;mtr&gt;&lt;mtd /&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x2190;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd /&gt;&lt;mtd /&gt;&lt;mtd&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x2190;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; text-align: center; position: relative;"><span id="MJXc-Node-472" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-473" class="mjx-mrow"><span id="MJXc-Node-474" class="mjx-mtable" style="vertical-align: -0.975em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-475" class="mjx-mtr" style="height: 1.225em;"><span id="MJXc-Node-476" class="mjx-mtd" style="padding: 0px; text-align: right; width: 0px;"><span id="MJXc-Node-477" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-478" class="mjx-mtd" style="padding: 0px 0.139em 0px 0px; width: 0px;"><span id="MJXc-Node-479" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-480" class="mjx-mtd" style="padding: 0px 0px 0px 0.139em; text-align: left; width: 11.197em;"><span id="MJXc-Node-481" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-482" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-483" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-484" class="mjx-texatom" style=""><span id="MJXc-Node-485" class="mjx-mrow"><span id="MJXc-Node-486" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span id="MJXc-Node-487" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.37em;">←</span></span><span id="MJXc-Node-488" class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-489" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-490" class="mjx-texatom" style=""><span id="MJXc-Node-491" class="mjx-mrow"><span id="MJXc-Node-492" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-493" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-494" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-495" class="mjx-texatom" style=""><span id="MJXc-Node-496" class="mjx-mrow"><span id="MJXc-Node-497" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-498" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-499" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-500" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-501" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-502" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span id="MJXc-Node-503" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-504" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-505" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-506" class="mjx-texatom" style=""><span id="MJXc-Node-507" class="mjx-mrow"><span id="MJXc-Node-508" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-509" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-510" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-511" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-512" class="mjx-texatom" style=""><span id="MJXc-Node-513" class="mjx-mrow"><span id="MJXc-Node-514" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span><span id="MJXc-Node-515" class="mjx-mtr" style="height: 1.225em;"><span id="MJXc-Node-516" class="mjx-mtd" style="padding: 0.15em 0px 0px; text-align: right;"><span id="MJXc-Node-517" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-518" class="mjx-mtd" style="padding: 0.15em 0.139em 0px 0px;"><span id="MJXc-Node-519" class="mjx-mrow" style="margin-top: -0.2em;"><span class="mjx-strut"></span></span></span><span id="MJXc-Node-520" class="mjx-mtd" style="padding: 0.15em 0px 0px 0.139em; text-align: left;"><span id="MJXc-Node-521" class="mjx-mrow" style="margin-top: -0.2em;"><span id="MJXc-Node-522" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-523" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-524" class="mjx-texatom" style=""><span id="MJXc-Node-525" class="mjx-mrow"><span id="MJXc-Node-526" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span id="MJXc-Node-527" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.213em; padding-bottom: 0.37em;">←</span></span><span id="MJXc-Node-528" class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-529" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-530" class="mjx-texatom" style=""><span id="MJXc-Node-531" class="mjx-mrow"><span id="MJXc-Node-532" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span></span><span id="MJXc-Node-533" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-534" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">v</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-535" class="mjx-texatom" style=""><span id="MJXc-Node-536" class="mjx-mrow"><span id="MJXc-Node-537" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-538" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-539" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-540" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">+</span></span><span id="MJXc-Node-541" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-542" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span id="MJXc-Node-543" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-544" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-545" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-546" class="mjx-texatom" style=""><span id="MJXc-Node-547" class="mjx-mrow"><span id="MJXc-Node-548" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">2</span></span></span></span></span></span><span id="MJXc-Node-549" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-550" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-551" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-552" class="mjx-texatom" style=""><span id="MJXc-Node-553" class="mjx-mrow"><span id="MJXc-Node-554" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left" rowspacing="3pt" columnspacing="0 thickmathspace" displaystyle="true"><mtr><mtd></mtd><mtd></mtd><mtd><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub><mo stretchy="false">←</mo><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub></mtd></mtr><mtr><mtd></mtd><mtd></mtd><mtd><msub><mi>v</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub><mo stretchy="false">←</mo><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow></msub><msub><mi>v</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow></msub><mo stretchy="false">)</mo><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub></mtd></mtr></mtable></math></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-28"> 
\begin{eqnarray*} 
&&m_{t}\leftarrow\beta_{1}m_{t-1}+(1-\beta_{1})g_{t}\\ 
&&v_{t}\leftarrow\beta_{2}v_{t-1}+(1-\beta_{2})g_{t} 
\end{eqnarray*} 
</script><br>
无论当前梯度<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-29-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-555" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-556" class="mjx-mrow"><span id="MJXc-Node-557" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-558" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-559" class="mjx-texatom" style=""><span id="MJXc-Node-560" class="mjx-mrow"><span id="MJXc-Node-561" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-29">g_{t}</script>是否是稀疏格式，其对应的一阶矩统计量<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-30-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-562" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-563" class="mjx-mrow"><span id="MJXc-Node-564" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-565" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-566" class="mjx-texatom" style=""><span id="MJXc-Node-567" class="mjx-mrow"><span id="MJXc-Node-568" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-569" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-570" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">m_{t-1}</script>都必须是dense格式。这也就意味着Deep Match模型中的embedding层和sampled softmax loss层只能在后面一项中<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-31-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-571" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-572" class="mjx-mrow"><span id="MJXc-Node-573" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">(</span></span><span id="MJXc-Node-574" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span><span id="MJXc-Node-575" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-576" class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-577" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-578" class="mjx-texatom" style=""><span id="MJXc-Node-579" class="mjx-mrow"><span id="MJXc-Node-580" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-581" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.475em; padding-bottom: 0.58em;">)</span></span><span id="MJXc-Node-582" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em;"><span id="MJXc-Node-583" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.475em; padding-right: 0.003em;">g</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-584" class="mjx-texatom" style=""><span id="MJXc-Node-585" class="mjx-mrow"><span id="MJXc-Node-586" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><msub><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">(1-\beta_{1})g_{t}</script>节省计算量，而前面的<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span id="MathJax-Element-32-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;&amp;#x03B2;&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/math&gt;" role="presentation" style="font-size: 119%; position: relative;"><span id="MJXc-Node-587" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-588" class="mjx-mrow"><span id="MJXc-Node-589" class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.007em;"><span id="MJXc-Node-590" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.475em; padding-bottom: 0.475em; padding-right: 0.007em;">β</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-591" class="mjx-texatom" style=""><span id="MJXc-Node-592" class="mjx-mrow"><span id="MJXc-Node-593" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span><span id="MJXc-Node-594" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-595" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.213em; padding-bottom: 0.265em;">m</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-596" class="mjx-texatom" style=""><span id="MJXc-Node-597" class="mjx-mrow"><span id="MJXc-Node-598" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.423em; padding-bottom: 0.265em;">t</span></span><span id="MJXc-Node-599" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.318em; padding-bottom: 0.423em;">−</span></span><span id="MJXc-Node-600" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.37em; padding-bottom: 0.318em;">1</span></span></span></span></span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>β</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow></msub><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-32">\beta_{1}m_{t-1}</script>仍然要进行全量的计算。而TensorFlow中对于一阶矩和二阶矩的更新是在PS端的CPU上计算的，这就会导致PS端的计算较慢而拖慢整体的训练过程。我们对上述公式的第一项做稀疏计算来节省整体的计算量。在实现上，我们使用了pai-tf团队@赵昆提供的高效AdamOptimizer，实验显示这种近似优化算法有很好的收敛性，大大提升了训练速度，在Deep Match训练上得到了相对将近<strong>27倍</strong>的加速比，同时还可以解决loss的抖动问题。下表展示了10ps+10worker在优化前后chief worker上单轮迭代的耗时及加速情况。</p>
<div class="table-contianer"><table><thead>
<tr>
<th></th><th>update time cost</th><th>total time cost</th><th>update time ratio</th><th>speed up</th></tr>
</thead><tbody>
<tr>
<td align="left">No Optimization</td><td align="left">about 9250 ms</td><td align="left">9508 ms</td><td align="left">about 97.3%</td><td align="left">1X</td></tr>
<tr>
<td align="left">Sparse Optimization</td><td align="left">about 103 ms</td><td align="left">359.21ms</td><td align="left">about 29%</td><td align="left"><strong>26.46X</strong></td></tr>
</tbody></table></div>
<h2 id="10"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#10"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SparseToDense优化</h2>
<p>sampled softmax loss需要对label数据从sparse格式转换成dense格式的操作—SparseToDense。该操作只在CPU实现，效果不高；输出Tensor较大，后面还有GPU操作时需追加CPU到GPU的显存拷贝。由于Deep Match训练，不存在多label的情况，我们使用one hot操作来改写sparse to dense操作，而tf.one_hot操作存在GPU的实现。实验结果显示性能提升<strong>25%~31%</strong>。</p>
<h2 id="11"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#11"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auto Parallel</h2>
<p>为了进一步应对DeepMatch对于分布式性能的要求以及对模型分布式实现复杂度的控制，我们设计了Auto Parallel。AutoParallelOptimizer本质上是一族分布式的Optimizer，具体来说它包含DataParallelOptimizer（数据并行），ModelParallelOptimizer（模型并行）和HybridParallelOptimzer（数据模型混合并行）三种。用户可以根据自己的需要使用三种之中的一种Optimizer进行分布式扩展，而无需关心具体的环境信息。通过将分布式自动化，我们可以使用更大更复杂的模型而不会损失性能。</p>
<blockquote>
<p><strong> 模型的分布式和性能优化更为详细的分析和介绍请参考</strong><a href="https://www.atatech.org/articles/93991">Deep Match性能优化之路——PAI-TF性能优化实践</a>。</p>
</blockquote>
<h1 id="12"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#12"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现介绍</h1>
<h2 id="13"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#13"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>线上系统架构</h2>
<p>系统架构如下：</p>
<div align="center">  
 <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/9422bd223f3359621883ea1832379de2.jpg" width="500" alt="线上架构" align="center">
</div>
    
<p>下面针对Embedding Server和Basic Engine向量召回分别进行说明。</p>
<h2 id="14"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#14"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实时用户向量预测服务（Embedding Server）</h2>
<p>Embedding Server实现了模型中的多层神经网络部分，根据用户行为实时计算用户向量并返回给TPP。依托RTP实现，能够实时检测模型的更改，自动加载模型。线上用户向量计算rt在5毫秒内。<br>
​        </p>
<h2 id="15"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#15"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BE向量化召回</h2>
<p>我们在推荐系统的召回引擎BE中深度集成了开源的KNN库--FAISS，并进行改造定制使其支持索引的分布式构建和查询，向量召回作为一种新的召回策略被集成进BE，可以灵活地与其他召回策略组合使用。</p>
<p>BE是推荐系统负责在线召回的引擎，基于DII算法在线服务平台实现，融合了搜索从离线到在线的全链路技术体系，并依托强大的管控系统，实现了从开发、上线到运维的全生命周期管理。BE从逻辑上来说，主要负责从多种类型的索引表中召回商品并关联具体的商品信息进行过滤和粗排。其中filter和sorter是算法插件，可以灵活配置在检索流程的各个环节，具体的过滤和排序逻辑由算法同学根据业务场景进行编写，同时BE也内置了大量的通用组件。线上召回效率极高，可以在3ms内对全库商品召回结果。基本架构如下:</p>
<div align="center">  
 <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/2196dbe28da320d4d6174b831ab63b58.png" width="500" alt="线上架构" align="center">
</div>
<h1 id="16"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#16"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实验和效果</h1>
<h2 id="17"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#17"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attention效果对比</h2>
<p>加入用户商品类目内容足迹验证Attention机制的影响，小数据集结果如下：</p>
<div class="table-contianer"><table><thead>
<tr>
<th></th><th>top1正确率</th><th>top50正确率</th></tr>
</thead><tbody>
<tr>
<td>no attention</td><td>5.7617%</td><td>56.25％</td></tr>
<tr>
<td>add attention</td><td>6.0547%</td><td>57.42%</td></tr>
</tbody></table></div>
<p>可见Attention机制的加入确实对模型有正面影响。同时，在更大的数据上验证了模型的泛化性能，当数据集扩大, top50的正确率会有所下降，但是训练集和测试集上的top50的正确率一致，证明了模型具有良好的泛化性能。</p>
<h2 id="18"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#18"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Case分析</h2>
<p>本节对模型的一些中间结果进行了case分析，方便检验模型学到了什么，有助于理解模型的能力。我们会从两个方面分析，一个是商品的embedding表示，一个是模型预测的效果。</p>
<h3 id="19"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#19"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Embedding效果</h3>
<p>我们从模型中导出了每个商品的embedding，将某个商品作为trigger商品，然后用这个trigger商品embedding去找最相似的商品。每张图片最左上角红框标示的是trigger商品，后面是和红框商品相似度依次递减的商品。</p>
<p><strong>Case 1</strong>：</p>
<blockquote>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/57d640c1cd1f64d6d5f7782013f2aeae.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/57d640c1cd1f64d6d5f7782013f2aeae.jpg" alt="15105019604774.jpg" title="15105019604774.jpg"></a> </p>
</blockquote>
<hr>
<p><strong>Case 2</strong>：</p>
<blockquote>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/4494d1d9793a947e7053a5820a7f66c4.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/4494d1d9793a947e7053a5820a7f66c4.jpg" alt="15104995410297.jpg" title="15104995410297.jpg"></a></p>
</blockquote>
<p>从上面几张图片来看，通过embedding找出的商品的相似度非常高，表明DeepMatch很好的表征了商品信息。</p>
<h3 id="20"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#20"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>召回的结果分析</h3>
<p>我们通过用户点击商品序列（也就行为历史），召回模型推荐的商品。</p>
<h4 id="21"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#21"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本召回case</h4>
<blockquote>
<p><strong>单个行为历史</strong>：</p>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/c5a3321565b05c067de0433c90bdbf0e.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/c5a3321565b05c067de0433c90bdbf0e.jpg" alt="15066889820953.jpg" title="15066889820953.jpg"></a></p>
<p><strong>模型召回:</strong></p>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/35a47ea6570c5c7c07fb0d598502e669.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/35a47ea6570c5c7c07fb0d598502e669.jpg" alt="15066890950971.jpg" title="15066890950971.jpg"></a></p>
</blockquote>
<hr>
<blockquote>
<p><strong>多个行为历史</strong>：</p>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/5b0c0e5f03d9750bdd2e0a4a8752c397.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/5b0c0e5f03d9750bdd2e0a4a8752c397.jpg" alt="15066892606047.jpg" title="15066892606047.jpg"></a></p>
<p><strong>模型召回:</strong></p>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/1feb490f6002098b602dda57a9421e3b.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/1feb490f6002098b602dda57a9421e3b.jpg" alt="15066892924943.jpg" title="15066892924943.jpg"></a> </p>
</blockquote>
<h4 id="22"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#22"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>语义融合能力</h4>
<p>检验模型处理用户点击的各种不同的商品信息，以及怎样融合这些信息。用户点击了几种不同的东西，其中包括羽绒服，和中国风衣服。</p>
<blockquote>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/48c7ad64d5d4dbc4a4372dd75ee04493.jpg" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/48c7ad64d5d4dbc4a4372dd75ee04493.jpg" alt="15100654959682.jpg" title="15100654959682.jpg"></a> </p>
</blockquote>
<p>模型推荐的商品如下:</p>
<blockquote>
<p><a href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/86f25d0c91759597812887687641b342.png" target="_blank"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/86f25d0c91759597812887687641b342.png" alt="15100655479722.png" title="15100655479722.png"></a> </p>
</blockquote>
<p>可以看到，红框的推荐结果是融合了羽绒服+中国风的结果，即是中式羽绒服，或者民族风的秋冬衣服。模型学习到了隐藏在用户行为背后的深层次的原因。这种能力能够给我们的推荐结果带来更多的惊喜性，从用户的角度而言，也会感觉到模型更加贴心。</p>
<blockquote>
<p><strong>更多的case和分析结果可以参考</strong><a href="https://www.atatech.org/articles/93984">DeepMatch模型case分析</a>.</p>
</blockquote>
<h1 id="23"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#23"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结和展望</h1>
<p>通过各个团队的协同合作，群策群力，完成了DeepMatch的上线，并拿到了较明显的线上效果。DeepMatch能够实时捕获用户的行为特性，提供具有深层语义特性的召回结果，和我们现有的各种召回一起为用户提供更为贴心的推荐结果。由于时间的关系，很多的工作做得不够细致，接下来我们会：</p>
<ul>
<li>多session信息融合。尝试将前一个session的user embedding作为输入，加入session based attention，捕获更长时间的session的信息。</li>
<li>加入图像信息。图像作为用户首先感知的因素，蕴含了丰富的语义信息。</li>
<li>DeepMatch服务化。提供Embedding Server作为基础的实时用户表示服务，以及item向量召回服务供其他团队使用。</li>
</ul>
<h1 id="24"><a target="_self" class="article-anchor" href="https://www.atatech.org/articles/94208#24"><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>团队和致谢</h1>
<p>本工作由多个团队合作完成，在这里我们向一起并肩战斗的靠谱的战友表示感谢：</p>
<ul>
<li>感谢<strong>清砚、临在</strong>一起参与模型的设计和优化，解决模型效果过程中的各种坑。</li>
<li>感谢pai-tf平台的<strong>王林、满神、丁辰、赵昆、九丰</strong>对基础设施进行了各种性能优化和功能上的支持，一起见证了pai-tf成长为一个能够应对复杂业务的成熟平台。</li>
<li>感谢<strong>品曲、国平、穆琢</strong>在分布式实现和优化上做的艰难而卓有成效的工作，为模型的在大规模数据上的应用打下坚实的基础。</li>
<li>感谢<strong>六叶、洛离、彻空、懿龘、杨易、悟时</strong>在BE上帮我们高效实现了向量召回功能，让我们领略到了Basic Enginer强大的扩展性和优异的性能。</li>
<li>感谢<strong>苏勒、风夏、越扬</strong>开发的用户向量实时预测服务，让模型在毫秒级别的实时预测成为可能。</li>
<li>感谢猜你喜欢的小伙伴，<strong>杉松、含骁、僧隐、画帆、荐轩</strong>一起参与了项目研发。</li>
<li>最后感谢<strong>林伟、以琛、喜德、五竹、永叔</strong>对这个项目的大力支持。</li>
</ul>

                      </div>

          
          <div class="_article-float hidden-xs" data-fixed="false">
            <div class="container">
              <div class="_article-float-inner">
                <aside class="_article-side">
    <a href="https://www.atatech.org/articles/94208/follow" class="btn btn-primary btn-block" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).parent().replaceWith(r)">关注</a>
    <section class="_article-followers">
    <h6 class="heading text-center">38人关注该文章</h6>
    <ul class="list-inline">
      <li><a href="https://www.atatech.org/users/16891" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/045388.80x80.jpg">龙锦</a></li><li><a href="https://www.atatech.org/users/224095" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/119269.80x80.jpg">沛之</a></li><li><a href="https://www.atatech.org/users/131935" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/098709.80x80.jpg">左起同</a></li><li><a href="https://www.atatech.org/users/65029" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/064917.80x80.jpg">叶别</a></li><li><a href="https://www.atatech.org/users/14668" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/040497.80x80.jpg">石申</a></li><li><a href="https://www.atatech.org/users/92843" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/077880.80x80.jpg">夏二</a></li><li><a href="https://www.atatech.org/users/50340" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/025695.80x80.jpg">褚建辉</a></li><li><a href="https://www.atatech.org/users/206325" class="trigger_avatar" avatar="https://work.alibaba-inc.com/photo/109823.80x80.jpg">斩邪</a></li><li><a data-toggle="modal" href="https://www.atatech.org/articles/94208/followers" data-target="#modal-followers" title="查看全部"><div class="img-user img-user-more text-center" style="width:26px;height:26px">...</div></a></li>    </ul>
  </section>
</aside>
              </div>
            </div>
          </div>

          <footer class="actions">
            <a href="https://www.atatech.org/articles/94208#comment" class="btn btn-primary js-scroll-to">评论文章
                              (29)
                          </a>
            <a href="https://www.atatech.org/articles/94208/voteup" title="赞" class="btn btn-default" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).next().addBack().toggle();$(&#39;#voters&#39;).html(r)">
              <span class="glyphicon glyphicon-thumbs-up"></span>
              123
            </a>
            <a href="https://www.atatech.org/articles/94208/unvoteup" title="取消赞" class="btn btn-primary" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).prev().addBack().toggle();$(&#39;#voters&#39;).html(r)" style="display:none">
              <span class="glyphicon glyphicon-thumbs-up"></span>
              124
            </a>
                          <button class="btn btn-default" data-toggle="modal" data-target="#modal-share" data-article-id="94208" data-share-count-target="#share-count" title="分享">
                <span class="glyphicon glyphicon-share"></span>
                <span id="share-count">1</span>
              </button>
            
            <!-- 分享到内外工作圈 -->
            <button class="btn btn-default" data-toggle="modal" data-target="#modal-aliwork-share" data-article-id="94208" title="分享到内外工作圈">
              <span class="glyphicon glyphicon-share-alt"></span>
            </button>

            <!-- 收藏 -->
            <span id="tools_favor_footer"></span>
          </footer>
        </article>

        <hr>


        <div id="voters" js-load-url="/articles/94208/voters"><div id="voters" class="_article-voters">
  <h3 class="heading">他们赞过该文章</h3>
  <ul class="list-inline"><li><a href="https://www.atatech.org/users/3193" class="trigger_avatar" avatar="/users/3193/avatar/?size=50">何琪</a></li><li><a href="https://www.atatech.org/users/4452" class="trigger_avatar" avatar="/users/4452/avatar/?size=50">绛烟</a></li><li><a href="https://www.atatech.org/users/4626" class="trigger_avatar" avatar="/users/4626/avatar/?size=50">紫夜</a></li><li><a href="https://www.atatech.org/users/4925" class="trigger_avatar" avatar="/users/4925/avatar/?size=50">琼香</a></li><li><a href="https://www.atatech.org/users/5275" class="trigger_avatar" avatar="/users/5275/avatar/?size=50">空羽</a></li><li><a href="https://www.atatech.org/users/5760" class="trigger_avatar" avatar="/users/5760/avatar/?size=50">野王</a></li><li><a href="https://www.atatech.org/users/5993" class="trigger_avatar" avatar="/users/5993/avatar/?size=50">青峰</a></li><li><a href="https://www.atatech.org/users/6317" class="trigger_avatar" avatar="/users/6317/avatar/?size=50">二丫</a></li><li><a href="https://www.atatech.org/users/6818" class="trigger_avatar" avatar="/users/6818/avatar/?size=50">喜德</a></li><li><a href="https://www.atatech.org/users/10571" class="trigger_avatar" avatar="/users/10571/avatar/?size=50">以琛</a></li><li><a href="https://www.atatech.org/users/11304" class="trigger_avatar" avatar="/users/11304/avatar/?size=50">陌儿</a></li><li><a href="https://www.atatech.org/users/12000" class="trigger_avatar" avatar="/users/12000/avatar/?size=50">仲昕</a></li><li><a href="https://www.atatech.org/users/13740" class="trigger_avatar" avatar="/users/13740/avatar/?size=50">赵印</a></li><li><a href="https://www.atatech.org/users/14159" class="trigger_avatar" avatar="/users/14159/avatar/?size=50">洛离</a></li><li><a href="https://www.atatech.org/users/14470" class="trigger_avatar" avatar="/users/14470/avatar/?size=50">悟时</a></li><li><a href="https://www.atatech.org/users/14953" class="trigger_avatar" avatar="/users/14953/avatar/?size=50">宋超</a></li><li><a href="https://www.atatech.org/users/16009" class="trigger_avatar" avatar="/users/16009/avatar/?size=50">唐薇</a></li><li><a href="https://www.atatech.org/users/16015" class="trigger_avatar" avatar="/users/16015/avatar/?size=50">尊渊</a></li><li><a href="https://www.atatech.org/users/18358" class="trigger_avatar" avatar="/users/18358/avatar/?size=50">剑霸</a></li><li><a href="https://www.atatech.org/users/18885" class="trigger_avatar" avatar="/users/18885/avatar/?size=50">苏勒</a></li><li><a href="https://www.atatech.org/users/20786" class="trigger_avatar" avatar="/users/20786/avatar/?size=50">仲宁</a></li><li><a href="https://www.atatech.org/users/21598" class="trigger_avatar" avatar="/users/21598/avatar/?size=50">权健</a></li><li><a href="https://www.atatech.org/users/22738" class="trigger_avatar" avatar="/users/22738/avatar/?size=50">杨焜</a></li><li><a href="https://www.atatech.org/users/23785" class="trigger_avatar" avatar="/users/23785/avatar/?size=50">玥颖</a></li><li><a href="https://www.atatech.org/users/24652" class="trigger_avatar" avatar="/users/24652/avatar/?size=50">彧卿</a></li><li><a href="https://www.atatech.org/users/25087" class="trigger_avatar" avatar="/users/25087/avatar/?size=50">奉山</a></li><li><a href="https://www.atatech.org/users/25115" class="trigger_avatar" avatar="/users/25115/avatar/?size=50">愚岩</a></li><li><a href="https://www.atatech.org/users/31355" class="trigger_avatar" avatar="/users/31355/avatar/?size=50">玄乐</a></li><li><a href="https://www.atatech.org/users/34837" class="trigger_avatar" avatar="/users/34837/avatar/?size=50">遨翔</a></li><li><a href="https://www.atatech.org/users/35245" class="trigger_avatar" avatar="/users/35245/avatar/?size=50">罗浩</a></li><li><a href="https://www.atatech.org/users/39991" class="trigger_avatar" avatar="/users/39991/avatar/?size=50">十古</a></li><li><a href="https://www.atatech.org/users/45304" class="trigger_avatar" avatar="/users/45304/avatar/?size=50">从芯</a></li><li><a href="https://www.atatech.org/users/48072" class="trigger_avatar" avatar="/users/48072/avatar/?size=50">婕纶</a></li><li><a href="https://www.atatech.org/users/48684" class="trigger_avatar" avatar="/users/48684/avatar/?size=50">不欺</a></li><li><a href="https://www.atatech.org/users/55205" class="trigger_avatar" avatar="/users/55205/avatar/?size=50">六叶</a></li><li><a href="https://www.atatech.org/users/64215" class="trigger_avatar" avatar="/users/64215/avatar/?size=50">蒋公</a></li><li><a href="https://www.atatech.org/users/64400" class="trigger_avatar" avatar="/users/64400/avatar/?size=50">无当</a></li><li><a href="https://www.atatech.org/users/64569" class="trigger_avatar" avatar="/users/64569/avatar/?size=50">浣石</a></li><li><a href="https://www.atatech.org/users/64627" class="trigger_avatar" avatar="/users/64627/avatar/?size=50">独悟</a></li><li><a href="https://www.atatech.org/users/65512" class="trigger_avatar" avatar="/users/65512/avatar/?size=50">上卿</a></li><li><a href="https://www.atatech.org/users/65560" class="trigger_avatar" avatar="/users/65560/avatar/?size=50">荐轩</a></li><li><a href="https://www.atatech.org/users/66913" class="trigger_avatar" avatar="/users/66913/avatar/?size=50">风夏</a></li><li><a href="https://www.atatech.org/users/67509" class="trigger_avatar" avatar="/users/67509/avatar/?size=50">进捷</a></li><li><a href="https://www.atatech.org/users/67644" class="trigger_avatar" avatar="/users/67644/avatar/?size=50">撼林</a></li><li><a href="https://www.atatech.org/users/68174" class="trigger_avatar" avatar="/users/68174/avatar/?size=50">龙衍</a></li><li><a href="https://www.atatech.org/users/69795" class="trigger_avatar" avatar="/users/69795/avatar/?size=50">胡默</a></li><li><a href="https://www.atatech.org/users/70050" class="trigger_avatar" avatar="/users/70050/avatar/?size=50">临在</a></li><li><a href="https://www.atatech.org/users/71173" class="trigger_avatar" avatar="/users/71173/avatar/?size=50">明澄</a></li><li><a href="https://www.atatech.org/users/71274" class="trigger_avatar" avatar="/users/71274/avatar/?size=50">黑屏</a></li><li><a href="https://www.atatech.org/users/76010" class="trigger_avatar" avatar="/users/76010/avatar/?size=50">僧云</a></li><li><a href="https://www.atatech.org/users/77424" class="trigger_avatar" avatar="/users/77424/avatar/?size=50">扬锐</a></li><li><a href="https://www.atatech.org/users/79904" class="trigger_avatar" avatar="/users/79904/avatar/?size=50">夜胧</a></li><li><a href="https://www.atatech.org/users/80064" class="trigger_avatar" avatar="/users/80064/avatar/?size=50">欧啦</a></li><li><a href="https://www.atatech.org/users/81262" class="trigger_avatar" avatar="/users/81262/avatar/?size=50">樊迟</a></li><li><a href="https://www.atatech.org/users/81316" class="trigger_avatar" avatar="/users/81316/avatar/?size=50">血歌</a></li><li><a href="https://www.atatech.org/users/81654" class="trigger_avatar" avatar="/users/81654/avatar/?size=50">奕博</a></li><li><a href="https://www.atatech.org/users/92179" class="trigger_avatar" avatar="/users/92179/avatar/?size=50">彻空</a></li><li><a href="https://www.atatech.org/users/92843" class="trigger_avatar" avatar="/users/92843/avatar/?size=50">夏二</a></li><li><a href="https://www.atatech.org/users/93410" class="trigger_avatar" avatar="/users/93410/avatar/?size=50">从易</a></li><li><a href="https://www.atatech.org/users/100975" class="trigger_avatar" avatar="/users/100975/avatar/?size=50">九丰</a></li><li><a href="https://www.atatech.org/users/101763" class="trigger_avatar" avatar="/users/101763/avatar/?size=50">北清</a></li><li><a href="https://www.atatech.org/users/102277" class="trigger_avatar" avatar="/users/102277/avatar/?size=50">荻朵</a></li><li><a href="https://www.atatech.org/users/104597" class="trigger_avatar" avatar="/users/104597/avatar/?size=50">秦弓</a></li><li><a href="https://www.atatech.org/users/110137" class="trigger_avatar" avatar="/users/110137/avatar/?size=50">简岩</a></li><li><a href="https://www.atatech.org/users/113942" class="trigger_avatar" avatar="/users/113942/avatar/?size=50">嘚瑟</a></li><li><a href="https://www.atatech.org/users/116019" class="trigger_avatar" avatar="/users/116019/avatar/?size=50">箐妍</a></li><li><a href="https://www.atatech.org/users/118846" class="trigger_avatar" avatar="/users/118846/avatar/?size=50">清砚</a></li><li><a href="https://www.atatech.org/users/120742" class="trigger_avatar" avatar="/users/120742/avatar/?size=50">品曲</a></li><li><a href="https://www.atatech.org/users/121407" class="trigger_avatar" avatar="/users/121407/avatar/?size=50">崧扬</a></li><li><a href="https://www.atatech.org/users/126303" class="trigger_avatar" avatar="/users/126303/avatar/?size=50">润墨</a></li><li><a href="https://www.atatech.org/users/128525" class="trigger_avatar" avatar="/users/128525/avatar/?size=50">乐檬</a></li><li><a href="https://www.atatech.org/users/129438" class="trigger_avatar" avatar="/users/129438/avatar/?size=50">镭铭</a></li><li><a href="https://www.atatech.org/users/130015" class="trigger_avatar" avatar="/users/130015/avatar/?size=50">穆琢</a></li><li><a href="https://www.atatech.org/users/130256" class="trigger_avatar" avatar="/users/130256/avatar/?size=50">翼升</a></li><li><a href="https://www.atatech.org/users/131062" class="trigger_avatar" avatar="/users/131062/avatar/?size=50">杉松</a></li><li><a href="https://www.atatech.org/users/131935" class="trigger_avatar" avatar="/users/131935/avatar/?size=50">左起同</a></li><li><a href="https://www.atatech.org/users/134133" class="trigger_avatar" avatar="/users/134133/avatar/?size=50">绝玦</a></li><li><a href="https://www.atatech.org/users/143496" class="trigger_avatar" avatar="/users/143496/avatar/?size=50">云矶</a></li><li><a href="https://www.atatech.org/users/148361" class="trigger_avatar" avatar="/users/148361/avatar/?size=50">影湛</a></li><li><a href="https://www.atatech.org/users/150608" class="trigger_avatar" avatar="/users/150608/avatar/?size=50">花重</a></li><li><a href="https://www.atatech.org/users/152681" class="trigger_avatar" avatar="/users/152681/avatar/?size=50">益风</a></li><li><a href="https://www.atatech.org/users/164992" class="trigger_avatar" avatar="/users/164992/avatar/?size=50">雪樵</a></li><li><a href="https://www.atatech.org/users/173653" class="trigger_avatar" avatar="/users/173653/avatar/?size=50">进一</a></li><li><a href="https://www.atatech.org/users/177341" class="trigger_avatar" avatar="/users/177341/avatar/?size=50">高理恩</a></li><li><a href="https://www.atatech.org/users/185290" class="trigger_avatar" avatar="/users/185290/avatar/?size=50">姆明</a></li><li><a href="https://www.atatech.org/users/190110" class="trigger_avatar" avatar="/users/190110/avatar/?size=50">路夕</a></li><li><a href="https://www.atatech.org/users/197505" class="trigger_avatar" avatar="/users/197505/avatar/?size=50">湛渊</a></li><li><a href="https://www.atatech.org/users/205135" class="trigger_avatar" avatar="/users/205135/avatar/?size=50">曾文聪</a></li><li><a href="https://www.atatech.org/users/210542" class="trigger_avatar" avatar="/users/210542/avatar/?size=50">赤涯</a></li><li><a href="https://www.atatech.org/users/216933" class="trigger_avatar" avatar="/users/216933/avatar/?size=50">载尘</a></li><li><a href="https://www.atatech.org/users/227548" class="trigger_avatar" avatar="/users/227548/avatar/?size=50">忱梦</a></li><li><a href="https://www.atatech.org/users/237428" class="trigger_avatar" avatar="/users/237428/avatar/?size=50">橙亮</a></li><li><a href="https://www.atatech.org/users/245910" class="trigger_avatar" avatar="/users/245910/avatar/?size=50">越扬</a></li><li><a href="https://www.atatech.org/users/251050" class="trigger_avatar" avatar="/users/251050/avatar/?size=50">诚立</a></li><li><a href="https://www.atatech.org/users/254515" class="trigger_avatar" avatar="/users/254515/avatar/?size=50">德烈</a></li><li><a href="https://www.atatech.org/users/259116" class="trigger_avatar" avatar="/users/259116/avatar/?size=50">朝圣</a></li><li><a href="https://www.atatech.org/users/271575" class="trigger_avatar" avatar="/users/271575/avatar/?size=50">曲悠</a></li><li><a href="https://www.atatech.org/users/274369" class="trigger_avatar" avatar="/users/274369/avatar/?size=50">烟秋</a></li><li><a href="https://www.atatech.org/users/274843" class="trigger_avatar" avatar="/users/274843/avatar/?size=50">屹力</a></li><li><a href="https://www.atatech.org/users/276748" class="trigger_avatar" avatar="/users/276748/avatar/?size=50">星苏</a></li><li><a href="https://www.atatech.org/users/277335" class="trigger_avatar" avatar="/users/277335/avatar/?size=50">丹丰</a></li><li><a href="https://www.atatech.org/users/290313" class="trigger_avatar" avatar="/users/290313/avatar/?size=50">培成</a></li><li><a href="https://www.atatech.org/users/293101" class="trigger_avatar" avatar="/users/293101/avatar/?size=50">艾奥</a></li><li><a href="https://www.atatech.org/users/294544" class="trigger_avatar" avatar="/users/294544/avatar/?size=50">宏益</a></li><li><a href="https://www.atatech.org/users/294744" class="trigger_avatar" avatar="/users/294744/avatar/?size=50">志渊</a></li><li><a href="https://www.atatech.org/users/298775" class="trigger_avatar" avatar="/users/298775/avatar/?size=50">友闻</a></li><li><a href="https://www.atatech.org/users/304086" class="trigger_avatar" avatar="/users/304086/avatar/?size=50">画帆</a></li><li><a href="https://www.atatech.org/users/311391" class="trigger_avatar" avatar="/users/311391/avatar/?size=50">昊逸</a></li><li><a href="https://www.atatech.org/users/311910" class="trigger_avatar" avatar="/users/311910/avatar/?size=50">文都</a></li><li><a href="https://www.atatech.org/users/313239" class="trigger_avatar" avatar="/users/313239/avatar/?size=50">予锋</a></li><li><a href="https://www.atatech.org/users/325923" class="trigger_avatar" avatar="/users/325923/avatar/?size=50">尼二</a></li><li><a href="https://www.atatech.org/users/326589" class="trigger_avatar" avatar="/users/326589/avatar/?size=50">秦进</a></li><li><a href="https://www.atatech.org/users/327883" class="trigger_avatar" avatar="/users/327883/avatar/?size=50">培坤</a></li><li><a href="https://www.atatech.org/users/329209" class="trigger_avatar" avatar="/users/329209/avatar/?size=50">公渡</a></li><li><a href="https://www.atatech.org/users/339343" class="trigger_avatar" avatar="/users/339343/avatar/?size=50">美姣</a></li><li><a href="https://www.atatech.org/users/340070" class="trigger_avatar" avatar="/users/340070/avatar/?size=50">玄基</a></li><li><a href="https://www.atatech.org/users/342554" class="trigger_avatar" avatar="/users/342554/avatar/?size=50">羲农</a></li><li><a href="https://www.atatech.org/users/355178" class="trigger_avatar" avatar="/users/355178/avatar/?size=50">了狂</a></li><li><a href="https://www.atatech.org/users/367136" class="trigger_avatar" avatar="/users/367136/avatar/?size=50">猫貂</a></li><li><a href="https://www.atatech.org/users/378995" class="trigger_avatar" avatar="/users/378995/avatar/?size=50">成煊</a></li><li><a href="https://www.atatech.org/users/380952" class="trigger_avatar" avatar="/users/380952/avatar/?size=50">晨茜</a></li><li><a href="https://www.atatech.org/users/413103" class="trigger_avatar" avatar="/users/413103/avatar/?size=50">狄山</a></li><li><a href="https://www.atatech.org/users/475643" class="trigger_avatar" avatar="/users/475643/avatar/?size=50">什伊</a></li></ul></div>
<hr>
</div>

                <div js-load-url="/articles/94208/similar">  <table width="100%" class="cnzz_block" id="article-recommend" cnzz_event="相似文章">
    <tbody><tr>
      <th rowspan="3" width="5%">相<br>似<br>文<br>章</th>
      <td width="50%">
        <li><a href="https://www.atatech.org/articles/27545">OnlineLearning 在个性化推荐中的应用实践</a></li>
      </td>
      <td width="45%">
        <li><a href="https://www.atatech.org/articles/38503">支持排序学习的大规模机器学习算法MPI GBDT</a></li>
      </td>
    </tr>
          <tr>
        <td>
          <li><a href="https://www.atatech.org/articles/66101">智能化搜索排序在线学习算法----DRL...</a></li>
        </td>
        <td>
          <li><a href="https://www.atatech.org/articles/67232">基于 XDL 的深度点击率预估模型探索</a></li>
        </td>
      </tr>
          <tr>
        <td>
          <li><a href="https://www.atatech.org/articles/67415">PS-DL深度学习应用实战---DSSM语义相似度模型</a></li>
        </td>
        <td>
          <li><a href="https://www.atatech.org/articles/81426">汇川模型时效性提升探索之旅</a></li>
        </td>
      </tr>
      </tbody></table>
</div>

                  <ul class="pager _article-pager">
                          <li class="previous cnzz_block" cnzz_event="上一篇"><a href="https://www.atatech.org/articles/93984">上一篇：DeepMatch模型case分析</a></li>
                                  </ul>
          <hr>
        
                  <section class="comments-box clearfix">
            <div class="media-list comments" id="comments" js-load-url="/articles/94208/comments">
<div class="comment media gaze in" id="comment-150366">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        1F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/102276" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/080598.80x80.jpg">葬青</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150366" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T14:04:27+08:00">2017-11-15 14:04:27</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>赞用户的实时Embedding</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150366/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150366/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150366&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150366">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150366" style="display:none">
      <div class="sub-comments media-list" id="comment-150366-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150366/subcomments/" method="POST" data-remote="true" data-target="#comment-150366-sub" data-done="$(&#39;#sub-comments-count-150366&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150383">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        2F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/225029" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/119006.80x80.jpg">僧隐</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150383" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T14:44:14+08:00">2017-11-15 14:44:14</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>666，下一步我们来把deep做得更广更深！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150383/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150383/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150383&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150383">1</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150383">
      <div class="sub-comments media-list" id="comment-150383-sub">

<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/302897" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136975.80x80.jpg">武见</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-15T14:52:54+08:00">2017-11-15 14:52:54</time>
    </div>

    <div class="content unsafe md">
      <p>期待僧哥的诗</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150383/subcomments/48112/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150383/subcomments/48112/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48112&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48112" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150383/subcomments/" method="POST" data-remote="true" data-target="#comment-150383-sub" data-done="$(&#39;#sub-comments-count-150383&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@武见 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>

  

</div>


<form target="_self" action="https://www.atatech.org/comments/150383/subcomments/" method="POST" data-remote="true" data-target="#comment-150383-sub" data-done="$(&#39;#sub-comments-count-150383&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150386">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        3F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/65560" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/065034.80x80.jpg">荐轩</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150386" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T14:46:01+08:00">2017-11-15 14:46:01</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>deepmatch还有很多优化点可做，期待与小伙伴们继续深入。</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150386/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150386/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150386&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150386">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150386" style="display:none">
      <div class="sub-comments media-list" id="comment-150386-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150386/subcomments/" method="POST" data-remote="true" data-target="#comment-150386-sub" data-done="$(&#39;#sub-comments-count-150386&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150406">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        4F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/120742" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/084899.80x80.jpg">品曲</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150406" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T14:58:48+08:00">2017-11-15 14:58:48</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>很赞！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150406/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150406/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150406&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150406">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150406" style="display:none">
      <div class="sub-comments media-list" id="comment-150406-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150406/subcomments/" method="POST" data-remote="true" data-target="#comment-150406-sub" data-done="$(&#39;#sub-comments-count-150406&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150415">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        5F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/6818" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/021001.80x80.jpg">喜德</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150415" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T15:11:57+08:00">2017-11-15 15:11:57</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>灰常赞</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150415/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150415/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150415&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150415">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150415" style="display:none">
      <div class="sub-comments media-list" id="comment-150415-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150415/subcomments/" method="POST" data-remote="true" data-target="#comment-150415-sub" data-done="$(&#39;#sub-comments-count-150415&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150418">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        6F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/259116" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/124419.80x80.jpg">朝圣</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150418" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T15:16:39+08:00">2017-11-15 15:16:39</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>pai-tf在大场景落地，赞。</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150418/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150418/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150418&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150418">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150418" style="display:none">
      <div class="sub-comments media-list" id="comment-150418-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150418/subcomments/" method="POST" data-remote="true" data-target="#comment-150418-sub" data-done="$(&#39;#sub-comments-count-150418&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150423">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        7F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/31355" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/061980.80x80.jpg">玄乐</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150423" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T15:28:14+08:00">2017-11-15 15:28:14</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>厉害，赞！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150423/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150423/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150423&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150423">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150423" style="display:none">
      <div class="sub-comments media-list" id="comment-150423-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150423/subcomments/" method="POST" data-remote="true" data-target="#comment-150423-sub" data-done="$(&#39;#sub-comments-count-150423&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150430">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        8F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/118846" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/084272.80x80.jpg">清砚</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150430" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T15:33:32+08:00">2017-11-15 15:33:32</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>赞落地效果和详细全面的分析！继续加油~</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150430/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150430/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150430&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150430">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150430" style="display:none">
      <div class="sub-comments media-list" id="comment-150430-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150430/subcomments/" method="POST" data-remote="true" data-target="#comment-150430-sub" data-done="$(&#39;#sub-comments-count-150430&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150456">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        9F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/45304" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/013027.80x80.jpg">从芯</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150456" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T16:14:21+08:00">2017-11-15 16:14:21</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>深藏在北京的秘密武器果然厉害~赞</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150456/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150456/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150456&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150456">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150456" style="display:none">
      <div class="sub-comments media-list" id="comment-150456-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150456/subcomments/" method="POST" data-remote="true" data-target="#comment-150456-sub" data-done="$(&#39;#sub-comments-count-150456&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150463">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        10F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/164992" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/105915.80x80.jpg">雪樵</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150463" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T16:23:40+08:00">2017-11-15 16:23:40</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>架构和策略两手抓，两手都能硬，真是厉害</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150463/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150463/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150463&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150463">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150463" style="display:none">
      <div class="sub-comments media-list" id="comment-150463-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150463/subcomments/" method="POST" data-remote="true" data-target="#comment-150463-sub" data-done="$(&#39;#sub-comments-count-150463&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150464">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        11F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/145981" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/100605.80x80.jpg">九胜</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150464" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T16:25:03+08:00">2017-11-15 16:25:03</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>DeepMatch服务化。提供Embedding Server作为基础的实时用户表示服务，以及item向量召回服务供其他团队使用。<br>
－－－－<br>
赞！共享精神！期待！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150464/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150464/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150464&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150464">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150464" style="display:none">
      <div class="sub-comments media-list" id="comment-150464-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150464/subcomments/" method="POST" data-remote="true" data-target="#comment-150464-sub" data-done="$(&#39;#sub-comments-count-150464&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150483">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        12F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/128458" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/086368.80x80.jpg">莫时</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150483" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T16:52:46+08:00">2017-11-15 16:52:46</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>mark</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150483/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150483/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150483&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150483">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150483" style="display:none">
      <div class="sub-comments media-list" id="comment-150483-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150483/subcomments/" method="POST" data-remote="true" data-target="#comment-150483-sub" data-done="$(&#39;#sub-comments-count-150483&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150506">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        13F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/71459" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/071078.80x80.jpg">玄文</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150506" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T17:26:05+08:00">2017-11-15 17:26:05</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>高大上</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150506/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150506/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150506&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150506">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150506" style="display:none">
      <div class="sub-comments media-list" id="comment-150506-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150506/subcomments/" method="POST" data-remote="true" data-target="#comment-150506-sub" data-done="$(&#39;#sub-comments-count-150506&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150528">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        14F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/3193" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/009712.80x80.jpg">何琪</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150528" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T17:45:16+08:00">2017-11-15 17:45:16</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>太牛逼了～～～ 我会努力看懂～～～</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150528/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150528/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150528&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150528">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150528" style="display:none">
      <div class="sub-comments media-list" id="comment-150528-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150528/subcomments/" method="POST" data-remote="true" data-target="#comment-150528-sub" data-done="$(&#39;#sub-comments-count-150528&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150538">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        15F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/15832" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/043351.80x80.jpg">晨歆</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150538" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T17:53:18+08:00">2017-11-15 17:53:18</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>虽然看不懂，但能隐约感觉到公式里面的深厚功力～厉害了！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150538/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150538/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150538&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150538">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150538" style="display:none">
      <div class="sub-comments media-list" id="comment-150538-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150538/subcomments/" method="POST" data-remote="true" data-target="#comment-150538-sub" data-done="$(&#39;#sub-comments-count-150538&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150557">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        16F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/33938" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/061636.80x80.jpg">国俊</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150557" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T18:42:08+08:00">2017-11-15 18:42:08</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>Embedding那一部分case里怎么看图片像是以图搜图的结果</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150557/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150557/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150557&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150557">2</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150557">
      <div class="sub-comments media-list" id="comment-150557-sub">

<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/302897" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136975.80x80.jpg">武见</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-15T19:02:52+08:00">2017-11-15 19:02:52</time>
    </div>

    <div class="content unsafe md">
      <p>我们暂时没有用任何的图片特征，这是通过用户行为学出来的embedding。当时这个结果也让我们挺震撼的，这说明在高维空间里面，相似的商品确实具有更近的距离，模型很好的通过了用户行为捕捉到了这个特性。</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150557/subcomments/48134/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150557/subcomments/48134/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48134&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48134" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150557/subcomments/" method="POST" data-remote="true" data-target="#comment-150557-sub" data-done="$(&#39;#sub-comments-count-150557&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@武见 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>
<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/65560" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/065034.80x80.jpg">荐轩</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-15T19:20:34+08:00">2017-11-15 19:20:34</time>
    </div>

    <div class="content unsafe md">
      <p><span><a href="https://www.atatech.org/users/33938">@<span></span>国俊</a></span>谢谢你的提问。本身deepmatch学出来的embedding表达的商品语义相似关系的，语义相似关系有时候会跟图像相似关系类似，但是从图可以看出并不是图同款商品，而是风格接近商品。我们后面的语义case也说明了这种语义关系并不是单纯图片相似。</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150557/subcomments/48136/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150557/subcomments/48136/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48136&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48136" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150557/subcomments/" method="POST" data-remote="true" data-target="#comment-150557-sub" data-done="$(&#39;#sub-comments-count-150557&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@荐轩 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>

  

</div>


<form target="_self" action="https://www.atatech.org/comments/150557/subcomments/" method="POST" data-remote="true" data-target="#comment-150557-sub" data-done="$(&#39;#sub-comments-count-150557&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150569">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        17F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/100975" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/080412.80x80.jpg">九丰</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150569" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T19:23:15+08:00">2017-11-15 19:23:15</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>功力深厚！</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150569/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150569/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150569&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150569">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150569" style="display:none">
      <div class="sub-comments media-list" id="comment-150569-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150569/subcomments/" method="POST" data-remote="true" data-target="#comment-150569-sub" data-done="$(&#39;#sub-comments-count-150569&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150595">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        18F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/299474" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136674.80x80.jpg">立溪</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150595" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-15T21:05:38+08:00">2017-11-15 21:05:38</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>我有两个问题请教下：1. item的向量是哪个阶段生成的？用什么方式？ 2.高维向量检索 你们用的是啥？</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150595/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150595/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150595&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150595">5</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150595">
      <div class="sub-comments media-list" id="comment-150595-sub">

<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/302897" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136975.80x80.jpg">武见</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-16T10:42:51+08:00">2017-11-16 10:42:51</time>
    </div>

    <div class="content unsafe md">
      <p>item的向量是可以一起学出来的，当然也可以用其他的地方导出的向量来替代。向量高维度检索，我们是BE的同学做的支持实现，据我的了解，应该和文章里说的一样，他们将FAISS集成到了BE中。</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150595/subcomments/48178/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <a href="https://www.atatech.org/comments/150595/subcomments/48178/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        2
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48178&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48178" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@武见 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>
<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/299474" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136674.80x80.jpg">立溪</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-16T10:45:22+08:00">2017-11-16 10:45:22</time>
    </div>

    <div class="content unsafe md">
      <p>你说的一起学是item vector那部分么？ 如果是这部分，覆盖面会不足啊，没法解决item的冷启动，，如果是通过其他方式学的，怎么保证跟用户的vector在同一个空间呢？ 在计算相似度的时候会不会有问题？</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150595/subcomments/48181/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150595/subcomments/48181/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48181&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48181" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@立溪 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>
<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/302897" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136975.80x80.jpg">武见</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-16T13:03:41+08:00">2017-11-16 13:03:41</time>
    </div>

    <div class="content unsafe md">
      <p>冷启动的问题我们是期望通过内容信息来缓解的。其他方式学的怎么保证和用户的vector在同一个空间的问题，召回的时候用的不是item 的embedding，而是softmax层对应的每个item的参数向量。因为有中间的一个深层神经网络的存在，所以对于任何途径来的item的embedding，我们期望经过全连接网络之后，可以映射到和softmax参数向量的同一个空间。</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150595/subcomments/48205/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150595/subcomments/48205/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48205&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48205" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@武见 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>
<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/206325" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/109823.80x80.jpg">斩邪</a>
                  <time class="pull-right small js-relative-time" datetime="2017-12-13T19:40:56+08:00">2017-12-13 19:40:56</time>
    </div>

    <div class="content unsafe md">
      <p><a href="https://www.atatech.org/users/299474">@<span></span>立溪</a> 你的这俩问题我也没搞明白，首先item的embeding向量可以来自这个模型的迭代生成也可以事先已经算好的直接lookup table。1、如果来自迭代训练，覆盖面取决于训练集中的item，在线新item会没有对应的embeding向量，导致这个item的特征进不去模型。2、如果来自事先生成好的embeding向量，这里我的理解是事先怎么保证相关候选item在高维空间是相似的。<a href="https://www.atatech.org/users/302897">@<span></span>武见</a></p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150595/subcomments/49503/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150595/subcomments/49503/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-49503&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-49503" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@斩邪 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>
<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/209964" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/112959.80x80.jpg">神药</a>
                  <time class="pull-right small js-relative-time" datetime="2017-12-14T19:42:37+08:00">2017-12-14 19:42:37</time>
    </div>

    <div class="content unsafe md">
      <p><a href="https://www.atatech.org/users/206325">@<span></span>斩邪</a> item向量来自softmax层，用户行为特征经过mlp之后会映射到softmax层的向量空间中，而softmax层用sample softmax近似实现，也是用user向量和iterm（postive）与iterm（negative）组成新的训练样本对 训练一个lr来近似。。这样训练完之后 user向量会和postive iterm距离更近 与negative item距离更远~~</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150595/subcomments/49548/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150595/subcomments/49548/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-49548&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-49548" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@神药 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>

  

</div>


<form target="_self" action="https://www.atatech.org/comments/150595/subcomments/" method="POST" data-remote="true" data-target="#comment-150595-sub" data-done="$(&#39;#sub-comments-count-150595&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150696">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        19F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/65469" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/067186.80x80.jpg">相寻</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150696" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-16T10:44:12+08:00">2017-11-16 10:44:12</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>赞！<br>
请教一下现在计算Item Embedding时，item维度的输入除了ItemID还有其他的吗，比如宝贝标题数据、属性数据（价格、热度）评论数据、以及文中提到的即将开展的图像数据。<br>
此外，对于attention layer（比如Embedded items那一层），有从可解释性方面看过权重分布是否nice吗？</p>

    </div>
    
        <div class="voters-p"></div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150696/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150696/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150696&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150696">1</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150696">
      <div class="sub-comments media-list" id="comment-150696-sub">

<div class="sub-comment media gaze in">
                    <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/302897" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/136975.80x80.jpg">武见</a>
                  <time class="pull-right small js-relative-time" datetime="2017-11-16T13:14:00+08:00">2017-11-16 13:14:00</time>
    </div>

    <div class="content unsafe md">
      <p>问题非常好，因为我们的项目是接近9月份才开始的，因为时间原因以及双十一上线的关系，工作做得比较粗糙，所以很多实验都做的很急，只是初步试验看了一下结果OK，没有来得及做很细致的分析和调优模型的效果，比如分析各种attentiion的分布等，我们后面会继续做的更加深入一点。同样是因为时间，这个版本我们只用了item的叶子类目做的实验，其他的信息还没有来得及加入进去，我们猜测这也是我们文章里面top50提升只有一个点的原因，不过现在的框架可以很容易的加入各种属性信息，我们后面调模型效果也会加入各种信息进行尝试。我们会把结果更新到后续的ata上面。</p>

    </div>

    <div class="actions clearfix">
      <a href="https://www.atatech.org/comments/150696/subcomments/48206/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        0
      </a>
      <a href="https://www.atatech.org/comments/150696/subcomments/48206/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comment-48206&#39;).toggle().find(&#39;textarea&#39;).focusend()"><span class="glyphicon glyphicon-comment"></span></button>

          </div>

    <form target="_self" id="sub-comment-48206" class="js-active-on-valid js-comment-create" style="display:none" action="https://www.atatech.org/comments/150696/subcomments/" method="POST" data-remote="true" data-target="#comment-150696-sub" data-done="$(&#39;#sub-comments-count-150696&#39;).inc();$(this).hide();$.scrollTo($r)">
      <input type="hidden" name="isCheck" value="1">
            <div class="form-group">
        <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" required="">@武见 </textarea>          
      </div>
      <div class="form-group text-right">
        <button type="reset" class="btn btn-default btn-sm" onclick="$(this.form).hide()">取消</button>
        <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
      </div>
    </form>
  </div><!-- /.media-body -->

  </div>

  

</div>


<form target="_self" action="https://www.atatech.org/comments/150696/subcomments/" method="POST" data-remote="true" data-target="#comment-150696-sub" data-done="$(&#39;#sub-comments-count-150696&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>
<div class="comment media gaze in" id="comment-150755">
  <div class="pull-left">
                      <span style="margin-left: 10px">
        20F
    </span>
      </div>
  <div class="media-body">
    <div class="source clearfix">
      <a href="https://www.atatech.org/users/14470" class="author trigger_avatar" avatar="https://work.alibaba-inc.com/photo/040054.80x80.jpg">悟时</a>
                        <span class="pull-right small">
        <a target="_self" href="https://www.atatech.org/articles/94208#comment-150755" class="link"><span class="glyphicon glyphicon-link"></span></a>
        <time class="js-relative-time" datetime="2017-11-16T13:38:25+08:00">2017-11-16 13:38:25</time>
      </span>
    </div>

    <div class="content unsafe md">
      <p>赞，既高大上又有实际效果！</p>

    </div>
    
        <div class="voters voters-p">
  <span>冰玉</span>    <span>赞同</span>
  </div>
    
    
    <div class="actions clearfix">
            <a href="https://www.atatech.org/comments/150755/voteup" title="赞" class="btn btn-link btn-sm action" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        1
      </a>
      <a href="https://www.atatech.org/comments/150755/unvoteup" title="取消赞" class="btn btn-link btn-sm action active" role="button" rel="nofollow" data-remote="true" data-method="post" data-done="$(this).closest(&#39;.comment&#39;).find(&#39;.voters-p:first&#39;).replaceWith(r);$(this).hide().siblings(&#39;:hidden&#39;).show()" style="display:none">
        <span class="glyphicon glyphicon-thumbs-up"></span>
        2
      </a>
      <span class="sep"></span>
      <button class="btn btn-link btn-sm action" onclick="$(&#39;#sub-comments-box-150755&#39;).toggle()">
        <span class="glyphicon glyphicon-comment"></span> 
        <span id="sub-comments-count-150755">0</span>
      </button>
            
          </div><!-- /.media-body -->
    
    <div class="sub-comments-box" id="sub-comments-box-150755" style="display:none">
      <div class="sub-comments media-list" id="comment-150755-sub">


  

</div>


<form target="_self" action="https://www.atatech.org/comments/150755/subcomments/" method="POST" data-remote="true" data-target="#comment-150755-sub" data-done="$(&#39;#sub-comments-count-150755&#39;).inc()" class="sub-comment-form js-comment-create js-active-on-valid">
  <input type="hidden" name="isCheck" value="1">
    <div class="form-group">
    <textarea name="content" rows="1" class="form-control js-mention js-auto-expand" placeholder="写下你的评论…" onfocus="$(this).closest(&#39;form&#39;).addClass(&#39;active&#39;)" required=""></textarea>
  </div>
  <div class="form-group text-right actions">
    <button type="reset" class="btn btn-default btn-sm" onclick="$(this).closest(&#39;form&#39;).removeClass(&#39;active&#39;)">取消</button>
    <button type="submit" class="btn btn-primary btn-sm" disabled="">评论</button>
  </div>
</form>
    </div><!-- /.sub-comments-box -->
  </div>

  </div>

<div class="pages comment-tip">
                    <ul class="pagination " ata_ajax="1" ata_ajax_form="" ata_ajax_nohist="">
              <li class="disabled"><span>◀</span></li>
      
      
      <li class="active"><span>1</span></li>

                        <li><a target="_self" href="https://www.atatech.org/articles/94208/comments?p=2">2</a></li>
              
              <li><a target="_self" href="https://www.atatech.org/articles/94208/comments?p=2" rel="next">▶</a></li>
          </ul>
  
    
</div>
<script>require('comments')</script></div>

            <form target="_self" accept-charset="UTF-8" action="https://www.atatech.org/comments" method="POST" data-remote="true" data-target="#comments" class="js-comment-create js-active-on-valid">
              <input type="hidden" name="type" value="article">
              <input type="hidden" name="isCheck" value="1">
              <input type="hidden" name="pid" value="94208">
              <div class="form-group">
                <div class="editor">
                  <div class="editor-container">
                    <div class="editor-actions">
                      <button type="button" class="btn btn-xs editor-action js-editor-fullscreen" data-original-title="全屏">
                        <span class="glyphicon glyphicon-fullscreen"></span>
                      </button>
                      <button type="button" class="btn btn-xs editor-action js-editor-preview" data-original-title="预览">
                        <span class="glyphicon glyphicon-eye-open"></span>
                      </button>
                      <button type="button" class="btn btn-xs editor-action js-editor-upload" data-original-title="插入图片">
                        <span class="glyphicon glyphicon-picture"></span>
                      </button>
                    </div><!-- /.editor-actions -->
                    <textarea name="content" rows="4" class="form-control js-mention js-auto-expand editor-content" id="comment" placeholder="写下你的评论…" required=""></textarea>
                  </div><!-- /.editor-container -->

                  <div class="editor-preview-container">
                    <div class="editor-actions">
                      <button type="button" class="btn btn-xs editor-action js-editor-preview-off" data-original-title="取消预览">
                        <span class="glyphicon glyphicon-eye-close"></span>
                      </button>
                    </div><!-- /.editor-actions -->
                    <div class="editor-preview content unsafe" data-disable-with="&lt;span class=&quot;text-muted&quot;&gt;loading...&lt;/span&gt;"></div>
                  </div><!-- /.editor-preview-container -->
                </div><!-- /.editor  -->
              </div>
              <div class="form-group text-right">
                <button type="submit" class="btn btn-primary" disabled="">评论</button>
              </div>
            </form>
          </section><!-- /.comments -->
              </div><!-- /._article-box -->
    </div>
  </div><!-- /.container -->
        <footer class="footer" role="contentinfo">
  <div class="container">
	  <p class="copyright pull-left">
	  	© 2018 阿里巴巴集团 版权所有 Copyright© 18 ATA. All rights reserved.
      <script type="text/javascript">var cnzz_protocol = (("https:" === document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1254194462'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D1254194462%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script><span id="cnzz_stat_icon_1254194462"><a href="http://www.cnzz.com/stat/website.php?web_id=1254194462" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/pic.gif"></a></span><script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/stat.php" type="text/javascript"></script><script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/core.php" charset="utf-8" type="text/javascript"></script></p>
    <ul class="list-inline pull-right">
      <li><a href="https://www.atatech.org/articles/67826" target="_blank">ATA社区常见问题汇总</a></li>
    </ul>
  </div>
</footer>
<script>require('module/global')</script>
<script>
  require('module/jquery.lazyload');
  $('img[data-original]').lazyload({effect: 'fadeIn'});
</script>
    <div id="modal-followers" class="modal fade" role="dialog" aria-labelledby="followers" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">关注者</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="submit" class="btn btn-primary">分享</button>
      </div>
    </div>
  </div>
</div><!-- /#modal-share -->  <div id="modal-share" class="modal fade" role="dialog" aria-labelledby="share" aria-hidden="true">
  <div class="modal-dialog">
    <form target="_self" action="https://www.atatech.org/articles/#{id}/share" method="POST" data-remote="true" data-done="$(this).closest(&#39;.modal&#39;).modal(&#39;hide&#39;);$(&#39;#share-group-or-team&#39;).selectize({plugins: [&#39;remove_button&#39;]})[0].selectize.clear();$($(this).data(&#39;shareCountTarget&#39;)).inc();$.alert(&#39;分享成功&#39;, &#39;success&#39;)" class="js-active-on-valid" novalidate="">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">分享</h4>
      </div>
      <div class="modal-body">
                                    <div class="form-group">
            <label for="share-group">分享到我的团队/圈子</label>
            a
            <select name="share-group-or-team[]" id="share-group-or-team" class="form-control selectized" autocomplete="off" placeholder="Groups or Teams" required="1" multiple="multiple" tabindex="-1" style="display: none;"></select><div class="selectize-control form-control multi plugin-remove_button"><div class="selectize-input items required not-full has-options"><input type="text" autocomplete="off" tabindex="" placeholder="请选择" required="" style="width: 46px;"></div><div class="selectize-dropdown form-control multi plugin-remove_button" style="display: none;"><div class="selectize-dropdown-content"></div></div></div>
        </div>
        <div class="form-group">
          <label for="share-users">分享给同事</label>
          <input type="text" name="users" class="form-control js-user-complete" id="share-users" placeholder="Users" required="1">
        </div>
        <div class="form-group">
          <textarea name="content" rows="3" class="form-control" placeholder="羞羞的内容"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="submit" class="btn btn-primary" disabled="">分享</button>
      </div>
    </div>
    </form>
  </div>
</div><!-- /#modal-share -->
<script>require('modal-share')</script>
<script>
$('#share-group-or-team').selectize({
    plugins: ['remove_button']
})[0].selectize.clear();
</script>
  <div id="modal-aliwork-share" class="modal fade" role="dialog" aria-labelledby="share" aria-hidden="true">
  <div class="modal-dialog">
    <form target="_self" action="https://www.atatech.org/articles/94208/sharetoaliwork" method="POST" data-remote="true" data-done="$(this).closest(&#39;.modal&#39;).modal(&#39;hide&#39;);$(&#39;#share-group-or-team&#39;).selectize({plugins: [&#39;remove_button&#39;]})[0].selectize.clear();$($(this).data(&#39;shareCountTarget&#39;)).inc();$.alert(&#39;分享成功&#39;, &#39;success&#39;)" class="js-active-on-valid" novalidate="">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          <h4 class="modal-title">分享到内外工作圈</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="share-group">DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践</label>
          </div>
          <div class="form-group share-detail">
            <div class="img-thumb"><img class="share-img" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/136975.80x80.jpg" width="60px" height="60px"></div>
            <div class="content-brief">基本介绍
Match（召回）和Rank（排序）是推荐流程非常关键的两步。Match即有效和丰富的召回，从全量商品（还包括feed和视频等）集合中根据用户行为和属性信息触发尽可能多正确的结果，并将结果返</div>
          </div>
          <div class="form-group">
            <textarea name="content" rows="3" class="form-control" placeholder="感谢你的分享！ 想对同学们说点什么？"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
          <button type="submit" class="btn btn-primary" disabled="">分享</button>
        </div>
      </div>
    </form>
  </div>
</div><!-- /#modal-share -->
<script>require('modal-share')</script>
<script>
  $(document).ready(function(){
     var imgSrc = $("._article img").attr("src");
     if (imgSrc != undefined) {
       $("#modal-aliwork-share .share-img").prop("src", imgSrc);
     }
  });
</script>
  <div id="modal-tag-history" class="modal fade" role="dialog" aria-labelledby="tag history" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">标签历史</h4>
      </div>
      <div class="modal-body">      
        <p class="text-muted">Loading...</p>
      </div>
    </div>
  </div>
</div><!-- /#modal-share -->
  <div id="modal-article-modify-history" class="modal fade" role="dialog" aria-labelledby="article modify history" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">编辑历史</h4>
      </div>
      <div class="modal-body">      
        <p class="text-muted">Loading...</p>
      </div>
    </div>
  </div>
</div><!-- /#modal-share -->

  <!-- markModal -->
  <div class="modal fade" id="my-mark-modal" tabindex="-1" role="dialog" aria-labelledby="myMarkModal" aria-hidden="true"></div>

      <link rel="stylesheet" href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/video.css">
    <script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/bundle.js"></script>
  
  <script data-group-id="426" data-user-id="302897">require('module/mention')</script>  <script data-group-id="426" data-user-id="302897">require('module/user-complete')</script>  <script>require('module/tools-favor')</script>
  <script>require('module/tag-complete')</script>
  <script>require('module/editor')</script>
  <script>require('module/mark');</script>
  <script>require('module/highlight');</script>
  <script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/swfobject_modified.js"></script>
  <script>
    // 替换文章详情页图片地址避免出现下载
    $(document).on('click', '._article .content.unsafe a, comments-box.clearfix .content.unsafe a', function(e){
      var img = $(this).children('img');
      if(img.attr('src') != $(this).attr('href') || !img.attr('src').match(/[0-9a-z]{32}$/)) {
        return true;
      }
      $(this).attr('href', '/public/imageView?src=' + img.attr('src'));
      return true;
    });

    $('.js-video').on('click', function () {
      if ($('#taobao-online-video').length > 0) {
        swfobject.registerObject("taobao-online-video");
      }
    })

    $(function () {
      $('body').append('<div id="article-outline"><div style="overflow: hidden;"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button></div></div><style>#article-outline{display:none;min-width:140p;max-width: 200px; max-height: 450px;position:absolute;top:150px;left:-999px;border:1px solid #ccc;box-shadow:5px 5px 2px #ccc;padding: 5px 10px;background-color: #fff;overflow-y: auto;scroll-x: auto;}#article-outline ul{margin:5px 0 5px 0;padding-left:30px;font-size:12px;border-left:1px dotted #ccc;}#article-outline ul:first-child{padding-left:15px;border:none;}#article-outline li{list-style-type:decimal;margin:3px 0;}</style>')
      var jOutline = $('#article-outline');

      var jContent = $('article .content');
      var jContentHeight = jContent.height();
      jOutline.find('.close').on('click', function () {
        jOutline.hide();
      })

      updateOutline();

      var top = jOutline.offset().top;
      scrollOutline();
      $(window).on('scroll', scrollOutline);
      function scrollOutline() {
        var scrollTop = $(document).scrollTop();
        var maxTop = jContent.offset().top + jContent.height() - jOutline.height();
        if (scrollTop >= top && scrollTop <= maxTop) {
          jOutline.css({'position': 'fixed', 'top': 0});
        }
        else if (scrollTop < top) {
          jOutline.css({'position': 'absolute', 'top': '150px'});
        }
        else {
          jOutline.css({'position': 'absolute', 'top': maxTop + 'px'});
        }

      }

      function updateOutline() {
        var arrAllHeader = jContent.find("h1,h2,h3,h4,h5,h6");
        var arrOutline = ['<ul>'];
        var header, headerText;
        var id = 0;
        var level = 0,
            lastLevel = 1;
        var levelCount = 0;
        for (var i = 0, c = arrAllHeader.length; i < c; i++) {
          header = arrAllHeader[i];
          headerText = $(header).text();

          header.setAttribute('id', id);

          level = header.tagName.match(/^h(\d)$/i)[1];
          levelCount = level - lastLevel;

          if (levelCount > 0) {
            for (var j = 0; j < levelCount; j++) {
              arrOutline.push('<ul>');
            }
          } else if (levelCount < 0) {
            levelCount *= -1;
            for (var j = 0; j < levelCount; j++) {
              arrOutline.push('</ul>');
            }
          }
          ;
          arrOutline.push('<li>');
          arrOutline.push('<a target="_self" href="#' + id + '">' + headerText + '</a>');
          arrOutline.push('</li>');
          lastLevel = level;

          var html = '<a target="_self" class="article-anchor" href="#'+$(header).prop("id")+'" ><svg class="octicon octicon-link ancher-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">' +
                     '<path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/></svg>'+
                     '</a>' +
                     $(header).html();
          $(header).html(html);
          id++;
        }
        arrOutline.push('</ul>')
        if (arrOutline.length > 2) {
          jOutline.append(arrOutline.join(''));
          jOutline.find('ul').each(function (i, n) {
            var jThis = $(this);
            if (jThis.children('li').length === 0) {
              jThis.replaceWith(jThis.children());
            }
          });
          showOutline();
        }
        else {
          hideOutline();
        }
      }

      // 设置锚点
      $("h1,h2,h3,h4,h5").hover(function(){
          $(this).find(".ancher-link").css({"visibility": "visible"});
        }, function(){
          $(this).find(".ancher-link").css({"visibility": "hidden"});
      });
      $("h1 .article-anchor,h2 .article-anchor,h3 .article-anchor,h4 .article-anchor,h5 .article-anchor").hover(function(){
        $(this).find(".ancher-link").css({"visibility": "visible"});
      }, function(){
        $(this).find(".ancher-link").css({"visibility": "hidden"});
      });
      function showOutline() {
        var offset = jContent.offset();

        jOutline.css({
          left: offset.left + jContent.width() + 10 + 'px',
        }).show();
      }

      function hideOutline() {
        jOutline.hide();
      }
    });
  </script>
  <script async="" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/mathjax%2F2.7.3%2FMathJax.js"></script>
  <script type="text/x-mathjax-config;executed=true">
  MathJax.Hub.Config({
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['\\$','\\$'], ["\\(","\\)"], ['$', '$'] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true,
      ignoreClass:"title"
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" }
    },
    displayAlign: "center"
  });
  </script>
  <a target="_self" href="https://www.atatech.org/articles/94208#" class="go-top" style="display: none;"><span class="glyphicon glyphicon-arrow-up"></span></a>
<script>require('module/go-top')</script>  <a href="https://work.alibaba-inc.com/work/group/8401" target="_blank" title="为ATA2.0提供反馈" style="position:fixed;right:0;bottom:0px;" class="hidden-xs">
  <img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/T17D1tFrVeXXcUfo_w-30-100.png" alt="">
</a>

                                                                            
                                                  
                                                                                                                    
<script type="text/javascript">
  // CNZZ事件统计
    var _czc = _czc || [];
  $(document).on('click', '.cnzz_block a', function (e) {
    var me = $(this),
      parent = me.parents('.cnzz_block');
    var cnzz_category = $('body').attr('cnzz_category'),
      cnzz_event = parent.attr('cnzz_event'),
      cnzz_label = '',
      cnzz_value = '', // me.attr('href').replace(/^.*\/(\d+?)[^\d]*$/, '$1'),
      cnzz_nodeid = parent.attr('id') || '';

    _czc.push(["_trackEvent", cnzz_category, cnzz_event, cnzz_label, cnzz_value, cnzz_nodeid]);

    // 给cnzz留点时间, 防止数据丢失
    var t, target = me.attr('target'), h = me.attr('href');
    if (!target && $('head base[target]').length == 0 || target == '_self') {
      if (h) {
        t = setTimeout(function () {
          clearTimeout(t);
          return true;
        }, 300);
        return true;
      }
    }

    return true;
  });
  
  // 搜索框icon按钮触发
  $('.form-submit-btn').click(function () {
    var form = $(this).parents('form');
    form.find('input').focus();
    form.submit();
  });

  // //实习生提醒
  // $('#intern-sure').click(function () {
  //   // var cookie_key = 'sfb';
  //   // $('.safepop_mask,.safepop_wrap').remove();
  //   // setcookie(cookie_key, 1, getTodaySeconsLeft());
  //   window.location.href = "/news/";
  // });

  // 导航 dropdown
  (function () {
    var t;
    $('.dropdown').hover(function () {
      var that = $(this);
      that.siblings().find('.dropdown-menu').hide();
      that.children('.dropdown-menu').show();
      clearTimeout(t);
    }, function () {
      var that = $(this);
      t = setTimeout(function () {
        that.children('.dropdown-menu').hide();
      }, 500)
    })
  }());
</script>

  <style>
    .atanlprobot-wrap {
    }

    .atanlprobot-wrap pre {
      display: block;
      padding: 9.5px;
      margin: 0 0 10px;
      font-size: 12px;
      line-height: 1.42857143;
      color: #333;
      word-break: break-all;
      word-wrap: break-word;
      background-color: #f5f5f5;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .atanlprobot-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .atanlprobot-list li {
      padding: 5px;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 100%;
      overflow: hidden;
      border-bottom: #ccc 1px solid;
    }

    .atanlprobot-list li:last-child {
      border-bottom: none;
    }

    .atanlprobot-list li span.tp {
      display: inline-block;
      padding: 3px;
      border-radius: 2px;
      color: #fff;
      background-color: #007bff;
      margin-right: 5px;
      opacity: .75;
    }

    .atanlprobot-list li span.tp-activity {
      color: #fff;
      background-color: #6610f2;
    }

    .atanlprobot-list li span.tp-article {
      color: #fff;
      background-color: #007bff;
    }

    .atanlprobot-list li span.tp-ask {
      color: #fff;
      background-color: #28a745;
    }

    .atanlprobot-list li span.tp-conference {
      color: #fff;
      background-color: #17a2b8;
    }

    .atanlprobot-list li span.tp-group {
      color: #000;
      background-color: #fd7e14;
    }

    .atanlprobot-list li span.tp-team {
      color: #000;
      background-color: #fd7e14;
    }

    .atanlprobot-list li span.tp-tool {
      color: #fff;
      background-color: #6f42c1;
    }

    .atanlprobot-list li span.tp-user {
      color: #000;
      background-color: #ffc107;
    }

    .atanlprobot-list li.operator {
    }

    .atanlprobot-list li.operator h3 {
      word-wrap: break-word;
      margin: 10px 0;
      font-size: 18px;
      white-space: normal;
    }

    .robot-parent .chat-text ul li.operator img {
      max-width: 100%;
    }

    .atanlprobot-list li.operator h4 {
      font-size: 14px;
      font-weight: 700;
      text-overflow: ellipsis;
      width: 100%;
      overflow: hidden;
    }

    .atanlprobot-list li.op-todytopic {
    }

    .atanlprobot-list li.op-todytopic blockquote {
      word-wrap: break-word;
      white-space: normal;
      font-size: 13px;
      padding: 10px;
      color: #888;
      background-color: #fff;
      border-radius: 3px;
    }

    .atanlprobot-list li.op-weekhot {
      /*text-align: center;*/
    }
  </style>
  <link href="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/robot.css" rel="stylesheet" type="text/css">
  <div id="robotContainer"><div class="robot-parent ui-draggable" style="left: 1031px;"><div class="robot-modal"><p class="chat-title ui-draggable-handle" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(34, 167, 240);"><i data-toggle="tooltip" data-placement="top" title="聊天记录" class="J_chat_convert" id="history"><img id="chat-img" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/history1.png"></i><span>艾獭</span><i class="J_hide_robot"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/close.png" style="width: 20px;"></i></p><div class="chat-main"><div class="chat-panel"><div class="chat-note" style="display: block;"><ul class="noteTemplate"><li class="chat-item other"><span class="triangle"></span><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/robot.png" alt="" class="img-circle chat-avatar"><time class="block fs-12 text-muted">机器人</time><div class="chat-bubble"><div class="note-content chat-text"><h4><a href="https://www.atatech.org/articles/98250">👉 艾獭使用说明</a></h4></div></div></li></ul></div><div class="chat-top"><div class="hot-div"><ul class="noteTemplate"><li class="chat-item other"><span class="triangle"></span><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/robot.png" alt="" class="img-circle chat-avatar"><time class="block fs-12 text-muted">机器人</time><div class="chat-bubble"><div class="chat-text"><div class="title"><i class="fa fa-question-circle-o"></i>热门问题</div><ul class="hot-ul"><li class="J_hot"><a><span>最近的热门文章</span><img class="key-down" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/chat-key.png"></a></li><li class="J_hot"><a><span>人工智能</span><img class="key-down" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/chat-key.png"></a></li><li class="J_hot"><a><span>点赞最多的文章</span><img class="key-down" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/chat-key.png"></a></li><li class="J_hot"><a><span>我关注的圈子的文章</span><img class="key-down" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/chat-key.png"></a></li><li class="J_hot"><a><span>我收藏的文章</span><img class="key-down" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/chat-key.png"></a></li></ul></div></div></li></ul></div></div><ul class="chat-ul"><li class="chat-item other"><span class="triangle"></span><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/robot.png" alt="" class="img-circle chat-avatar"><time class="block fs-12 text-muted">机器人 </time><div class="chat-bubble"><div class="chat-text"><span>亲，我是答疑机器人，需要我为您做点什么~~</span></div></div></li></ul></div><div class="form-group has-feedback"><div class="robot-extend"><a data-toggle="tooltip" id="chatBoxEmoji" data-placement="top" title="" class="history-icon" data-original-title="表情"> <img style="width:17px;" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/emoji.png"></a><div class="mod-plugin-smiley" id="chatEmojiPanel"><div class="J_Wrapper"><div class="arrow-bottom"></div><div class="J_Scroller scroller" id="emojiPanel"><ul class="smiley-ul-sqi" id="emojiSqi"><li class="ww-smiley" data-id="[微笑]" style="background-position:0 0"></li><li class="ww-smiley" data-id="[害羞]" style="background-position:0 -25px"></li><li class="ww-smiley" data-id="[吐舌头]" style="background-position:0 -50px"></li><li class="ww-smiley" data-id="[偷笑]" style="background-position:0 -75px"></li><li class="ww-smiley" data-id="[爱慕]" style="background-position:0 -100px"></li><li class="ww-smiley" data-id="[大笑]" style="background-position:0 -125px"></li><li class="ww-smiley" data-id="[跳舞]" style="background-position:0 -150px"></li><li class="ww-smiley" data-id="[飞吻]" style="background-position:0 -175px"></li><li class="ww-smiley" data-id="[安慰]" style="background-position:0 -200px"></li><li class="ww-smiley" data-id="[抱抱]" style="background-position:0 -225px"></li><li class="ww-smiley" data-id="[加油]" style="background-position:0 -250px"></li><li class="ww-smiley" data-id="[胜利]" style="background-position:0 -275px"></li><li class="ww-smiley" data-id="[强]" style="background-position:0 -300px"></li><li class="ww-smiley" data-id="[亲亲]" style="background-position:0 -325px"></li><li class="ww-smiley" data-id="[花痴]" style="background-position:0 -350px"></li><li class="ww-smiley" data-id="[露齿笑]" style="background-position:0 -375px"></li><li class="ww-smiley" data-id="[查找]" style="background-position:0 -400px"></li><li class="ww-smiley" data-id="[呼叫]" style="background-position:0 -425px"></li><li class="ww-smiley" data-id="[算账]" style="background-position:0 -450px"></li><li class="ww-smiley" data-id="[财迷]" style="background-position:0 -475px"></li><li class="ww-smiley" data-id="[好主意]" style="background-position:0 -500px"></li><li class="ww-smiley" data-id="[鬼脸]" style="background-position:0 -525px"></li><li class="ww-smiley" data-id="[天使]" style="background-position:0 -550px"></li><li class="ww-smiley" data-id="[再见]" style="background-position:0 -575px"></li><li class="ww-smiley" data-id="[流口水]" style="background-position:0 -600px"></li><li class="ww-smiley" data-id="[享受]" style="background-position:0 -625px"></li><li class="ww-smiley" data-id="[色情狂]" style="background-position:0 -650px"></li><li class="ww-smiley" data-id="[呆若木鸡]" style="background-position:0 -675px"></li><li class="ww-smiley" data-id="[思考]" style="background-position:0 -700px"></li><li class="ww-smiley" data-id="[迷惑]" style="background-position:0 -725px"></li><li class="ww-smiley" data-id="[疑问]" style="background-position:0 -750px"></li><li class="ww-smiley" data-id="[没钱了]" style="background-position:0 -775px"></li><li class="ww-smiley" data-id="[无聊]" style="background-position:0 -800px"></li><li class="ww-smiley" data-id="[怀疑]" style="background-position:0 -825px"></li><li class="ww-smiley" data-id="[嘘]" style="background-position:0 -850px"></li><li class="ww-smiley" data-id="[小样]" style="background-position:0 -875px"></li><li class="ww-smiley" data-id="[摇头]" style="background-position:0 -900px"></li><li class="ww-smiley" data-id="[感冒]" style="background-position:0 -925px"></li><li class="ww-smiley" data-id="[尴尬]" style="background-position:0 -950px"></li><li class="ww-smiley" data-id="[傻笑]" style="background-position:0 -975px"></li><li class="ww-smiley" data-id="[不会吧]" style="background-position:0 -1000px"></li><li class="ww-smiley" data-id="[无奈]" style="background-position:0 -1025px"></li><li class="ww-smiley" data-id="[流汗]" style="background-position:0 -1050px"></li><li class="ww-smiley" data-id="[凄凉]" style="background-position:0 -1075px"></li><li class="ww-smiley" data-id="[困了]" style="background-position:0 -1100px"></li><li class="ww-smiley" data-id="[晕]" style="background-position:0 -1125px"></li><li class="ww-smiley" data-id="[忧伤]" style="background-position:0 -1150px"></li><li class="ww-smiley" data-id="[委屈]" style="background-position:0 -1175px"></li><li class="ww-smiley" data-id="[悲泣]" style="background-position:0 -1200px"></li><li class="ww-smiley" data-id="[大哭]" style="background-position:0 -1225px"></li><li class="ww-smiley" data-id="[痛哭]" style="background-position:0 -1250px"></li><li class="ww-smiley" data-id="[I服了U]" style="background-position:0 -1275px"></li><li class="ww-smiley" data-id="[对不起]" style="background-position:0 -1300px"></li><li class="ww-smiley" data-id="[再见]" style="background-position:0 -1325px"></li><li class="ww-smiley" data-id="[皱眉]" style="background-position:0 -1350px"></li><li class="ww-smiley" data-id="[好累]" style="background-position:0 -1375px"></li><li class="ww-smiley" data-id="[吐]" style="background-position:0 -1400px"></li><li class="ww-smiley" data-id="[背]" style="background-position:0 -1425px"></li><li class="ww-smiley" data-id="[惊讶]" style="background-position:0 -1450px"></li><li class="ww-smiley" data-id="[惊愕]" style="background-position:0 -1475px"></li><li class="ww-smiley" data-id="[闭嘴]" style="background-position:0 -1500px"></li><li class="ww-smiley" data-id="[欠扁]" style="background-position:0 -1525px"></li><li class="ww-smiley" data-id="[鄙视你]" style="background-position:0 -1550px"></li><li class="ww-smiley" data-id="[大怒]" style="background-position:0 -1575px"></li><li class="ww-smiley" data-id="[生气]" style="background-position:0 -1600px"></li><li class="ww-smiley" data-id="[财神]" style="background-position:0 -1625px"></li><li class="ww-smiley" data-id="[学习雷锋]" style="background-position:0 -1650px"></li><li class="ww-smiley" data-id="[恭喜发财]" style="background-position:0 -1675px"></li><li class="ww-smiley" data-id="[小二]" style="background-position:0 -1700px"></li><li class="ww-smiley" data-id="[老大]" style="background-position:0 -1725px"></li><li class="ww-smiley" data-id="[邪恶]" style="background-position:0 -1750px"></li><li class="ww-smiley" data-id="[单挑]" style="background-position:0 -1775px"></li><li class="ww-smiley" data-id="[CS]" style="background-position:0 -1800px"></li><li class="ww-smiley" data-id="[隐形人]" style="background-position:0 -1825px"></li><li class="ww-smiley" data-id="[炸弹]" style="background-position:0 -1850px"></li><li class="ww-smiley" data-id="[惊声尖叫]" style="background-position:0 -1875px"></li><li class="ww-smiley" data-id="[漂亮MM]" style="background-position:0 -1900px"></li><li class="ww-smiley" data-id="[帅哥]" style="background-position:0 -1925px"></li><li class="ww-smiley" data-id="[招财猫]" style="background-position:0 -1950px"></li><li class="ww-smiley" data-id="[成交]" style="background-position:0 -1975px"></li><li class="ww-smiley" data-id="[鼓掌]" style="background-position:0 -2000px"></li><li class="ww-smiley" data-id="[握手]" style="background-position:0 -2025px"></li><li class="ww-smiley" data-id="[红唇]" style="background-position:0 -2050px"></li><li class="ww-smiley" data-id="[玫瑰]" style="background-position:0 -2075px"></li><li class="ww-smiley" data-id="[残花]" style="background-position:0 -2100px"></li><li class="ww-smiley" data-id="[爱心]" style="background-position:0 -2125px"></li><li class="ww-smiley" data-id="[心碎]" style="background-position:0 -2150px"></li><li class="ww-smiley" data-id="[钱]" style="background-position:0 -2175px"></li><li class="ww-smiley" data-id="[购物]" style="background-position:0 -2200px"></li><li class="ww-smiley" data-id="[礼物]" style="background-position:0 -2225px"></li><li class="ww-smiley" data-id="[收邮件]" style="background-position:0 -2250px"></li><li class="ww-smiley" data-id="[电话]" style="background-position:0 -2275px"></li><li class="ww-smiley" data-id="[举杯庆祝]" style="background-position:0 -2300px"></li><li class="ww-smiley" data-id="[时钟]" style="background-position:0 -2325px"></li><li class="ww-smiley" data-id="[等待]" style="background-position:0 -2350px"></li><li class="ww-smiley" data-id="[很晚了]" style="background-position:0 -2375px"></li><li class="ww-smiley" data-id="[飞机]" style="background-position:0 -2400px"></li><li class="ww-smiley" data-id="[支付宝]" style="background-position:0 -2425px"></li></ul></div></div></div><a data-toggle="tooltip" data-placement="top" title="" class="history-icon screenShot-button" data-original-title="一键截屏"> <img style="width:17px;" src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/photo1.png"></a></div><div class="input-group" style="margin:0px 0px 10px 0px;"><input type="textarea" id="chatInput" style="width:90%;border-color:rgba(120,130,140,0);margin: 10px 15px;" title="请您描述遇到的问题" placeholder="请描述遇到的问题，command+v可粘贴图片"><a class="over-link" style="display: none;">结束人工服务</a></div></div><a class="sendDingding" style="display: none;">催他一下</a></div><div class="chat-history"><div class="chat-history-left"><ul id="sqiChatDateUl"></ul></div><div class="left-history-control history-mini-right"><span></span></div><div class="chat-history-right"><ul class="chat-ul" id="sqiChatHistoryUl"></ul></div></div></div></div><a data-toggle="tooltip" data-placement="left" title="" id="sqi_robot" style="top: 200px; right: 0px; width: 80px; background: none;" data-original-title="艾獭"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/icon_robot.png"><span class="robot-info" style="display: none;">0</span></a><div id="userChatHistoryModal" tabindex="-1" role="dialog"><div class="modal-dialog" style="width:830px;"><div class="modal-content"><div class="modal-header" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(34, 167, 240);"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><i><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/close.png" style="width: 20px;"></i></button></div><div class="modal-body" style="text-align:center"><img id="imgLarge"></div></div></div></div><div id="screenShotModal" tabindex="-1" role="dialog"><div class="modal-dialog" style="width:830px;"><div class="modal-content"><div class="modal-header" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(34, 167, 240);"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><i><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/close.png" style="width: 20px;"></i></button></div><div class="modal-body screen-body" style="text-align:center"><div style=" text-align: right;padding: 10px 10px 0px 0px;"><div class="pen-wrapper"><button id="rovoked" class="pen-btn rovoked-btn"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/revoked.png">撤销</button><button id="pencil" class="pen-btn pencil-btn active-btn"><img src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/pencil.png">画笔</button></div></div><div class="canvas"></div></div><div class="modal-footer" style="text-align:center"><button type="button" id="sendScreenImg" style="background: none 0% 0% / auto repeat scroll padding-box border-box rgb(34, 167, 240);">发送截屏</button></div></div></div></div></div>
  <script src="./DeepMatch—深度智能召回模型在手淘猜你喜欢的探索和实践_files/sqiRobot.js" type="text/javascript"></script>
  <script>
    $(function () {
      $('#robotContainer').sqiRobot({
        defineTitle: '艾獭',
//            bucId: user.bucId, // 当前用户bucId
        userNick: '梵昱', // 当前用户花名
        userCode: '107776',  // 当前用户工号
        productType: 'ata',
        chatBu: 'NOTSQI',  // 所属bu， 如果是非SQI应用，这里填 "NOTSQI"
        robotStyle: 'top:200px;right:0;width:80px', // 机器人图表的位置等自定义的style
        audio: false,
        appKey: "8a1afcb2-e97f-4ffa-bfc4-6c24440fa54f",
//            hostName: "pre.one-voice-platform.alibaba-inc.com",
                        draggable: true,
        markdown: false,
        customer: false
      });
    });
  </script>



<div class="alert-container"></div><div id="article-outline" style="left: 1195.5px; display: block; position: absolute; top: 150px;"><div style="overflow: hidden;"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button></div><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#0">基本介绍</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#1">DeepMatch模型</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#2">模型介绍</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#3">输入层</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#4">Dual Attention机制</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#5">深度网络层</a></li></ul></ul><li><a target="_self" href="https://www.atatech.org/articles/94208#6">Softmax近似算法</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#7">性能优化和分布式</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#8">分布式训练架构</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#9">AdamOptimizer优化</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#10">SparseToDense优化</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#11">Auto Parallel</a></li></ul><li><a target="_self" href="https://www.atatech.org/articles/94208#12">实现介绍</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#13">线上系统架构</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#14">实时用户向量预测服务（Embedding Server）</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#15">BE向量化召回</a></li></ul><li><a target="_self" href="https://www.atatech.org/articles/94208#16">实验和效果</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#17">Attention效果对比</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#18">Case分析</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#19">Embedding效果</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#20">召回的结果分析</a></li><ul><li><a target="_self" href="https://www.atatech.org/articles/94208#21">基本召回case</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#22">语义融合能力</a></li></ul></ul></ul><li><a target="_self" href="https://www.atatech.org/articles/94208#23">总结和展望</a></li><li><a target="_self" href="https://www.atatech.org/articles/94208#24">团队和致谢</a></li></ul></div><style>#article-outline{display:none;min-width:140p;max-width: 200px; max-height: 450px;position:absolute;top:150px;left:-999px;border:1px solid #ccc;box-shadow:5px 5px 2px #ccc;padding: 5px 10px;background-color: #fff;overflow-y: auto;scroll-x: auto;}#article-outline ul{margin:5px 0 5px 0;padding-left:30px;font-size:12px;border-left:1px dotted #ccc;}#article-outline ul:first-child{padding-left:15px;border:none;}#article-outline li{list-style-type:decimal;margin:3px 0;}</style></body></html>